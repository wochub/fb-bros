!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.videojs=e()}(this,function(){function t(t,e){return t(e={exports:{}},e.exports),e.exports}function o(e,n){be(e).forEach(function(t){return n(e[t],t)})}function u(n){for(var t=arguments.length,e=Array(1<t?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[n].concat(e)):(e.forEach(function(t){t&&o(t,function(t,e){n[e]=t})}),n)}function s(t){return!!t&&"object"===(void 0===t?"undefined":me(t))}function r(t){return s(t)&&"[object Object]"===_e.call(t)&&t.constructor===Object}function i(t,e){if(!t||!e)return"";if("function"!=typeof Rt.getComputedStyle)return t.currentStyle[e]||"";var n=Rt.getComputedStyle(t);return n?n[e]:""}function a(t){return"string"==typeof t&&/\S/.test(t)}function n(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function p(){return Gt===Rt.document&&void 0!==Gt.createElement}function l(t){return s(t)&&1===t.nodeType}function e(){try{return Rt.parent!==Rt.self}catch(t){return!0}}function c(i){return function(t,e){if(!a(t))return Gt[i](null);a(e)&&(e=Gt.querySelector(e));var n=l(e)?e:Gt;return n[i]&&n[i](t)}}function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],o=Gt.createElement(t);return Object.getOwnPropertyNames(n).forEach(function(t){var e=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(Ee.warn(we(Ae,t,e)),o.setAttribute(t,e)):"textContent"===t?h(o,e):o[t]=e}),Object.getOwnPropertyNames(e).forEach(function(t){o.setAttribute(t,e[t])}),i&&L(o,i),o}function h(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function f(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function y(t,e){return n(e),t.classList?t.classList.contains(e):function(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}(e).test(t.className)}function v(t,e){return t.classList?t.classList.add(e):y(t,e)||(t.className=(t.className+" "+e).trim()),t}function g(t,e){return t.classList?t.classList.remove(e):(n(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function m(t,e,n){var i=y(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?v(t,e):g(t,e),t}function _(n,i){Object.getOwnPropertyNames(i).forEach(function(t){var e=i[t];null==e||!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)})}function b(t){var e={};if(t&&t.attributes&&0<t.attributes.length)for(var n=t.attributes,i=n.length-1;0<=i;i--){var o=n[i].name,r=n[i].value;"boolean"!=typeof t[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(r=null!==r),e[o]=r}return e}function T(t,e){return t.getAttribute(e)}function C(t,e,n){t.setAttribute(e,n)}function k(t,e){t.removeAttribute(e)}function E(){Gt.body.focus(),Gt.onselectstart=function(){return!1}}function w(){Gt.onselectstart=function(){return!0}}function A(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(i(t,"height"))),n.width||(n.width=parseFloat(i(t,"width"))),n}}function S(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=Gt.documentElement,i=Gt.body,o=n.clientLeft||i.clientLeft||0,r=Rt.pageXOffset||i.scrollLeft,s=e.left+r-o,a=n.clientTop||i.clientTop||0,l=Rt.pageYOffset||i.scrollTop,c=e.top+l-a;return{left:Math.round(s),top:Math.round(c)}}function P(t,e){var n={},i=S(t),o=t.offsetWidth,r=t.offsetHeight,s=i.top,a=i.left,l=e.pageY,c=e.pageX;return e.changedTouches&&(c=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-l+r)/r)),n.x=Math.max(0,Math.min(1,(c-a)/o)),n}function j(t){return s(t)&&3===t.nodeType}function x(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function M(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),l(t)||j(t)?t:"string"==typeof t&&/\S/.test(t)?Gt.createTextNode(t):void 0}).filter(function(t){return t})}function L(e,t){return M(t).forEach(function(t){return e.appendChild(t)}),e}function D(t,e){return L(x(t),e)}function R(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||9===ue||0===t.button&&1===t.buttons}function I(){return xe++}function O(t){var e=t[Le];return e||(e=t[Le]=I()),Me[e]||(Me[e]={}),Me[e]}function N(t){var e=t[Le];return!!e&&!!Object.getOwnPropertyNames(Me[e]).length}function B(t){var e=t[Le];if(e){delete Me[e];try{delete t[Le]}catch(e){t.removeAttribute?t.removeAttribute(Le):t[Le]=null}}}function F(t,e){var n=O(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&B(t)}function V(e,n,t,i){t.forEach(function(t){e(n,t,i)})}function H(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||Rt.event;for(var o in t={},i)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&i.preventDefault||(t[o]=i[o]));if(t.target||(t.target=t.srcElement||Gt),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var r=Gt.documentElement,s=Gt.body;t.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function W(s,t,e){if(Array.isArray(t))return V(W,s,t,e);var a=O(s);if(a.handlers||(a.handlers={}),a.handlers[t]||(a.handlers[t]=[]),e.guid||(e.guid=I()),a.handlers[t].push(e),a.dispatcher||(a.disabled=!1,a.dispatcher=function(t,e){if(!a.disabled){t=H(t);var n=a.handlers[t.type];if(n)for(var i=n.slice(0),o=0,r=i.length;o<r&&!t.isImmediatePropagationStopped();o++)try{i[o].call(s,t,e)}catch(t){Ee.error(t)}}}),1===a.handlers[t].length)if(s.addEventListener){var n=!1;De&&-1<Re.indexOf(t)&&(n={passive:!0}),s.addEventListener(t,a.dispatcher,n)}else s.attachEvent&&s.attachEvent("on"+t,a.dispatcher)}function U(t,e,n){if(N(t)){var i=O(t);if(i.handlers){if(Array.isArray(e))return V(U,t,e,n);function o(t,e){i.handlers[e]=[],F(t,e)}if(void 0!==e){var r=i.handlers[e];if(r){if(!n)return void o(t,e);if(n.guid)for(var s=0;s<r.length;s++)r[s].guid===n.guid&&r.splice(s--,1);F(t,e)}}else for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&o(t,a)}}}function z(t,e,n){var i=N(t)?O(t):{},o=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=H(e),i.dispatcher&&i.dispatcher.call(t,e,n),o&&!e.isPropagationStopped()&&!0===e.bubbles)z.call(null,o,e,n);else if(!o&&!e.defaultPrevented){var r=O(e.target);e.target[e.type]&&(r.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),r.disabled=!1)}return!e.defaultPrevented}function q(t,e,n){if(Array.isArray(e))return V(q,t,e,n);function i(){U(t,e,i),n.apply(this,arguments)}i.guid=n.guid=n.guid||I(),W(t,e,i)}function X(t,e){e&&(Ne=e),Rt.setTimeout(Be,t)}function K(t,e){var n=(1<arguments.length&&void 0!==e?e:{}).eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=d("span",{className:"vjs-event-bus"});return u(t,Je),t.on("dispose",function(){t.off(),Rt.setTimeout(function(){t.eventBusEl_=null},0)}),t}function G(t,e){return u(t,Qe),t.state=u({},t.state,e),"function"==typeof t.handleStateChanged&&$e(t)&&t.on("statechanged",t.handleStateChanged),t}function Y(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function $(){for(var n={},t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.forEach(function(t){t&&o(t,function(t,e){r(t)?(r(n[e])||(n[e]={}),n[e]=$(n[e],t)):n[e]=t})}),n}function J(t,e,n,i){return function(t,e,n){if("number"!=typeof e||e<0||n<e)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,i,n.length-1),n[i][e]}function Q(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:J.bind(null,"start",0,t),end:J.bind(null,"end",1,t)}}function Z(t,e){return Array.isArray(t)?Q(t):void 0===t||void 0===e?Q():Q([[t,e]])}function tt(t,e){var n=0,i=void 0,o=void 0;if(!e)return 0;t&&t.length||(t=Z(0,0));for(var r=0;r<t.length;r++)i=t.start(r),e<(o=t.end(r))&&(o=e),n+=o-i;return n/e}function et(t){if(t instanceof et)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:s(t)&&("number"==typeof t.code&&(this.code=t.code),u(this,t)),this.message||(this.message=et.defaultMessages[this.code]||"")}function nt(t){return null!=t&&"function"==typeof t.then}function it(t){nt(t)&&t.then(null,function(t){})}function ot(t,e,n){var i=t;return Hn(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=Gn(e,{uri:t}),i.callback=n,i}function rt(t,e,n){return st(e=ot(t,e,n))}function st(i){function e(t){return clearTimeout(l),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,y)}function t(){if(!a){var t;clearTimeout(l),t=i.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var e=y,n=null;return 0!==t?(e={body:function(){var t=void 0;if(t=s.response?s.response:s.responseText||function(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}(s),f)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:t,method:h,headers:{},url:c,rawRequest:s},s.getAllResponseHeaders&&(e.headers=Kn(s.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),r(n,e,e.body)}}if(void 0===i.callback)throw new Error("callback argument missing");var o=!1,r=function(t,e,n){o||(o=!0,i.callback(t,e,n))},s=i.xhr||null;s||(s=i.cors||i.useXDR?new rt.XDomainRequest:new rt.XMLHttpRequest);var n,a,l,c=s.url=i.uri||i.url,h=s.method=i.method||"GET",d=i.body||i.data,u=s.headers=i.headers||{},p=!!i.sync,f=!1,y={body:void 0,headers:{},statusCode:0,method:h,url:c,rawRequest:s};if("json"in i&&!1!==i.json&&(f=!0,u.accept||u.Accept||(u.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(u["content-type"]||u["Content-Type"]||(u["Content-Type"]="application/json"),d=JSON.stringify(!0===i.json?d:i.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(t,0)},s.onload=t,s.onerror=e,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=e,s.open(h,c,!p,i.username,i.password),p||(s.withCredentials=!!i.withCredentials),!p&&0<i.timeout&&(l=setTimeout(function(){if(!a){a=!0,s.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",e(t)}},i.timeout)),s.setRequestHeader)for(n in u)u.hasOwnProperty(n)&&s.setRequestHeader(n,u[n]);else if(i.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(s.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(s),s.send(d||null),s}function at(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function lt(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function ct(){this.values=_i(null)}function ht(t,e,n,i){var o=i?t.split(i):[t];for(var r in o)if("string"==typeof o[r]){var s=o[r].split(n);if(2===s.length)e(s[0],s[1])}}function dt(e,t,r){function n(){var t=lt(e);if(null===t)throw new at(at.Errors.BadTimeStamp,"Malformed timestamp: "+l);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function i(){e=e.replace(/^\s+/,"")}var o,s,a,l=e;if(i(),t.startTime=n(),i(),"--\x3e"!==e.substr(0,3))throw new at(at.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+l);e=e.substr(3),i(),t.endTime=n(),i(),o=e,s=t,a=new ct,ht(o,function(t,e){switch(t){case"region":for(var n=r.length-1;0<=n;n--)if(r[n].id===e){a.set(t,r[n].region);break}break;case"vertical":a.alt(t,e,["rl","lr"]);break;case"line":var i=e.split(","),o=i[0];a.integer(t,o),a.percent(t,o)&&a.set("snapToLines",!1),a.alt(t,o,["auto"]),2===i.length&&a.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=e.split(","),a.percent(t,i[0]),2===i.length&&a.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":a.percent(t,e);break;case"align":a.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),s.region=a.get("region",null),s.vertical=a.get("vertical",""),s.line=a.get("line","auto"),s.lineAlign=a.get("lineAlign","start"),s.snapToLines=a.get("snapToLines",!0),s.size=a.get("size",100),s.align=a.get("align","middle"),s.position=a.get("position",{start:0,left:0,middle:50,end:100,right:100},s.align),s.positionAlign=a.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},s.align)}function ut(r,n){function e(t){return Ti[t]}for(var t,i=r.document.createElement("div"),o=i,s=[];null!==(t=function(){if(!n)return null;var t,e=n.match(/^([^<]*)(<[^>]+>?)?/);return t=e[1]?e[1]:e[2],n=n.substr(t.length),t}());)if("<"!==t[0])o.appendChild(r.document.createTextNode(function(t){for(;c=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(c[0],e);return t}(t)));else{if("/"===t[1]){s.length&&s[s.length-1]===t.substr(2).replace(">","")&&(s.pop(),o=o.parentNode);continue}var a,l=lt(t.substr(1,t.length-2));if(l){a=r.document.createProcessingInstruction("timestamp",l),o.appendChild(a);continue}var c=t.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!c)continue;if(!(a=function(t,e){var n=Ci[t];if(!n)return null;var i=r.document.createElement(n);i.localName=n;var o=ki[t];return o&&e&&(i[o]=e.trim()),i}(c[1],c[3])))continue;if(h=o,Ei[(d=a).localName]&&Ei[d.localName]!==h.localName)continue;c[2]&&(a.className=c[2].substr(1).replace("."," ")),s.push(c[1]),o.appendChild(a),o=a}var h,d;return i}function pt(t){for(var e=0;e<wi.length;e++){var n=wi[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function ft(){}function yt(t,e,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",r="rgba(0, 0, 0, 0.8)";i&&(o="rgb(255, 255, 255)",r="rgb(0, 0, 0)"),ft.call(this),this.cue=e,this.cueDiv=ut(t,e.text);var s={color:o,backgroundColor:r,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(s.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",s.unicodeBidi="plaintext"),this.applyStyles(s,this.cueDiv),this.div=t.document.createElement("div"),s={textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(s.direction=function(t){function o(t,e){for(var n=e.childNodes.length-1;0<=n;n--)t.push(e.childNodes[n])}function r(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?i[t.length=0]:n}return"ruby"===e.tagName?r(t):e.childNodes?(o(t,e),r(t)):void 0}var e=[],n="";if(!t||!t.childNodes)return"ltr";for(o(e,t);n=r(e);)for(var i=0;i<n.length;i++)if(pt(n.charCodeAt(i)))return"rtl";return"ltr"}(this.cueDiv),s.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(s),this.div.appendChild(this.cueDiv);var a=0;switch(e.positionAlign){case"start":a=e.position;break;case"middle":a=e.position-e.size/2;break;case"end":a=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function vt(t){var e,n,i,o,r=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,o=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||o,this.height=t.height||n,this.bottom=t.bottom||o+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight,r&&!this.lineHeight&&(this.lineHeight=13)}function gt(t,e,a,l){var n=new vt(e),i=e.cue,o=function(t){if("number"==typeof t.line&&(t.snapToLines||0<=t.line&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,o=0;o<n.length&&n[o]!==e;o++)"showing"===n[o].mode&&i++;return-1*++i}(i),r=[];if(i.snapToLines){var s;switch(i.vertical){case"":r=["+y","-y"],s="height";break;case"rl":r=["+x","-x"],s="width";break;case"lr":r=["-x","+x"],s="width"}var c=n.lineHeight,h=c*Math.round(o),d=a[s]+c,u=r[0];Math.abs(h)>d&&(h=h<0?-1:1,h*=Math.ceil(d/c)*c),o<0&&(h+=""===i.vertical?a.height:a.width,r=r.reverse()),n.move(u,h)}else{var p=n.lineHeight/a.height*100;switch(i.lineAlign){case"middle":o-=p/2;break;case"end":o-=p}switch(i.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")})}r=["+y","-x","+x","-y"],n=new vt(e)}var f=function(t,e){for(var n,i=new vt(t),o=1,r=0;r<e.length;r++){for(;t.overlapsOppositeAxis(a,e[r])||t.within(a)&&t.overlapsAny(l);)t.move(e[r]);if(t.within(a))return t;var s=t.intersectPercentage(a);s<o&&(n=new vt(t),o=s),t=new vt(i)}return n||i}(n,r);e.move(f.toCSSCompatValues(a))}function mt(){}function _t(t){return"string"==typeof t&&!!Pi[t.toLowerCase()]&&t.toLowerCase()}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function Tt(t,e,n){var i=this,o=/MSIE\s8\.0/.test(navigator.userAgent),r={};o?i=document.createElement("custom"):r.enumerable=!0,i.hasBeenReset=!1;var s="",a=!1,l=t,c=e,h=n,d=null,u="",p=!0,f="auto",y="start",v=50,g="middle",m=50,_="middle";if(Object.defineProperty(i,"id",bt({},r,{get:function(){return s},set:function(t){s=""+t}})),Object.defineProperty(i,"pauseOnExit",bt({},r,{get:function(){return a},set:function(t){a=!!t}})),Object.defineProperty(i,"startTime",bt({},r,{get:function(){return l},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",bt({},r,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",bt({},r,{get:function(){return h},set:function(t){h=""+t,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",bt({},r,{get:function(){return d},set:function(t){d=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",bt({},r,{get:function(){return u},set:function(t){var e=function(t){return"string"==typeof t&&!!Si[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",bt({},r,{get:function(){return p},set:function(t){p=!!t,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",bt({},r,{get:function(){return f},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",bt({},r,{get:function(){return y},set:function(t){var e=_t(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",bt({},r,{get:function(){return v},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",bt({},r,{get:function(){return g},set:function(t){var e=_t(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",bt({},r,{get:function(){return m},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",bt({},r,{get:function(){return _},set:function(t){var e=_t(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),i.displayState=void 0,o)return i}function Ct(t){return"number"==typeof t&&0<=t&&t<=100}function kt(t,e,n){t.setTimeout(function(){return function n(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=arguments[2],r=arguments[3],s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],a=5<arguments.length&&void 0!==arguments[5]&&arguments[5],e=t[0],l=t.slice(1);if("string"==typeof e)n(i,Ni[e],o,r,s,a);else if(e){var c=At(r,e);c.setSource(u({},i),function(t,e){if(t)return n(i,l,o,r,s,a);s.push(c),n(e,i.type===e.type?l:Ni[e.type],o,r,s,a)})}else l.length?n(i,l,o,r,s,a):a?o(i,s):n(i,Ni["*"],o,r,s,!0)}(e,Ni[e.type],n,t)},1)}function Et(t,e,n,i){var o=3<arguments.length&&void 0!==i?i:null,r="call"+Y(n),s=t.reduce(wt(r),o),a=s===Fi,l=a?null:e[n](s);return function(t,e,n,i){for(var o=t.length-1;0<=o;o--){var r=t[o];r[e]&&r[e](i,n)}}(t,n,l,a),l}function wt(n){return function(t,e){return t===Fi?Fi:e[n]?e[n](t):t}}function At(t,e){var n=Bi[t.id()],i=null;if(null==n)return i=e(t),Bi[t.id()]=[[e,i]],i;for(var o=0;o<n.length;o++){var r=n[o],s=r[0],a=r[1];s===e&&(i=a)}return null===i&&(i=e(t),n.push([e,i])),i}function St(t,e){return"rgba("+parseInt(t[1]+t[1],16)+","+parseInt(t[2]+t[2],16)+","+parseInt(t[3]+t[3],16)+","+e+")"}function Pt(t,e,n){try{t.style[e]=n}catch(t){return}}function jt(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),o=Math.floor(t/3600),r=Math.floor(e/60%60),s=Math.floor(e/3600);return!isNaN(t)&&t!==1/0||(o=i=n="-"),(o=0<o||0<s?o+":":"")+(i=((o||10<=r)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)}function xt(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function Mt(t,n,e){var i=Mt.getPlayer(t);if(i)return n&&Ee.warn('Player "'+t+'" is already initialised. Options will not be applied.'),e&&i.ready(e),i;var o="string"==typeof t?Se("#"+Ca(t)):t;if(!l(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");Gt.body.contains(o)||Ee.warn("The element supplied is not included in the DOM"),n=n||{},Mt.hooks("beforesetup").forEach(function(t){var e=t(o,$(n));s(e)&&!Array.isArray(e)?n=$(n,e):Ee.error("please return an object in beforesetup hooks")});var r=Ze.getComponent("Player");return i=new r(o,n,e),Mt.hooks("setup").forEach(function(t){return t(i)}),i}var Lt,Dt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Rt="undefined"!=typeof window?window:void 0!==Dt?Dt:"undefined"!=typeof self?self:{},It={},Ot=(Object.freeze||Object)({default:It}),Nt=Ot&&It||Ot,Bt=void 0!==Dt?Dt:"undefined"!=typeof window?window:{};"undefined"!=typeof document?Lt=document:(Lt=Bt["__GLOBAL_DOCUMENT_CACHE@4"])||(Lt=Bt["__GLOBAL_DOCUMENT_CACHE@4"]=Nt);function Ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ht(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Wt(t,e){return t.raw=e,t}function Ut(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!!ue&&ue<11,i=Te.levels[Ce],o=new RegExp("^("+i+")$");if("log"!==t&&e.unshift(t.toUpperCase()+":"),ke&&ke.push([].concat(e)),e.unshift("VIDEOJS:"),Rt.console){var r=Rt.console[t];r||"debug"!==t||(r=Rt.console.info||Rt.console.log),r&&i&&o.test(t)&&(n&&(e=e.map(function(e){if(s(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),r.apply?r[Array.isArray(e)?"apply":"call"](Rt.console,e):r(e))}}var zt,qt,Xt,Kt,Gt=Lt,Yt=Rt.navigator&&Rt.navigator.userAgent||"",$t=/AppleWebKit\/([\d.]+)/i.exec(Yt),Jt=$t?parseFloat($t.pop()):null,Qt=/iPad/i.test(Yt),Zt=/iPhone/i.test(Yt)&&!Qt,te=/iPod/i.test(Yt),ee=Zt||Qt||te,ne=(Kt=Yt.match(/OS (\d+)_/i))&&Kt[1]?Kt[1]:null,ie=/Android/i.test(Yt),oe=function(){var t=Yt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),re=ie&&/webkit/i.test(Yt)&&oe<2.3,se=ie&&oe<5&&Jt<537,ae=/Firefox/i.test(Yt),le=/Edge/i.test(Yt),ce=!le&&/Chrome/i.test(Yt),he=(Xt=Yt.match(/Chrome\/(\d+)/))&&Xt[1]?parseFloat(Xt[1]):null,de=/MSIE\s8\.0/.test(Yt),ue=(zt=/MSIE\s(\d+)\.\d/.exec(Yt),!(qt=zt&&parseFloat(zt[1]))&&/Trident\/7.0/i.test(Yt)&&/rv:11.0/.test(Yt)&&(qt=11),qt),pe=/Safari/i.test(Yt)&&!ce&&!ie&&!le,fe=pe||ee,ye=p()&&("ontouchstart"in Rt||Rt.DocumentTouch&&Rt.document instanceof Rt.DocumentTouch),ve=p()&&"backgroundSize"in Rt.document.createElement("video").style,ge=(Object.freeze||Object)({IS_IPAD:Qt,IS_IPHONE:Zt,IS_IPOD:te,IS_IOS:ee,IOS_VERSION:ne,IS_ANDROID:ie,ANDROID_VERSION:oe,IS_OLD_ANDROID:re,IS_NATIVE_ANDROID:se,IS_FIREFOX:ae,IS_EDGE:le,IS_CHROME:ce,CHROME_VERSION:he,IS_IE8:de,IE_VERSION:ue,IS_SAFARI:pe,IS_ANY_SAFARI:fe,TOUCH_ENABLED:ye,BACKGROUND_SIZE_SUPPORTED:ve}),me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e=Object.prototype.toString,be=function(t){return s(t)?Object.keys(t):[]},Te=void 0,Ce="info",ke=[];(Te=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];Ut("log",e)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:Ce},Te.level=function(t){if("string"==typeof t){if(!Te.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');Ce=t}return Ce},Te.history=function(){return ke?[].concat(ke):[]},Te.history.clear=function(){ke&&(ke.length=0)},Te.history.disable=function(){null!==ke&&(ke.length=0,ke=null)},Te.history.enable=function(){null===ke&&(ke=[])},Te.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ut("error",e)},Te.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ut("warn",e)},Te.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ut("debug",e)};var Ee=Te,we=function(t){for(var e="",n=0;n<arguments.length;n++)e+=t[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return e},Ae=Wt(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),Se=c("querySelector"),Pe=c("querySelectorAll"),je=(Object.freeze||Object)({isReal:p,isEl:l,isInFrame:e,createEl:d,textContent:h,prependTo:f,hasClass:y,addClass:v,removeClass:g,toggleClass:m,setAttributes:_,getAttributes:b,getAttribute:T,setAttribute:C,removeAttribute:k,blockTextSelection:E,unblockTextSelection:w,getBoundingClientRect:A,findPosition:S,getPointerPosition:P,isTextNode:j,emptyEl:x,normalizeContent:M,appendContent:L,insertContent:D,isSingleLeftClick:R,$:Se,$$:Pe}),xe=1,Me={},Le="vdata"+(new Date).getTime(),De=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){De=!0}});Rt.addEventListener("test",null,t),Rt.removeEventListener("test",null,t)}catch(t){}}();var Re=["touchstart","touchmove"],Ie=(Object.freeze||Object)({fixEvent:H,on:W,off:U,trigger:z,one:q}),Oe=!1,Ne=void 0,Be=function(){if(p()){var t=Gt.getElementsByTagName("video"),e=Gt.getElementsByTagName("audio"),n=Gt.getElementsByTagName("video-js"),i=[];if(t&&0<t.length)for(var o=0,r=t.length;o<r;o++)i.push(t[o]);if(e&&0<e.length)for(var s=0,a=e.length;s<a;s++)i.push(e[s]);if(n&&0<n.length)for(var l=0,c=n.length;l<c;l++)i.push(n[l]);if(i&&0<i.length)for(var h=0,d=i.length;h<d;h++){var u=i[h];if(!u||!u.getAttribute){X(1);break}if(void 0===u.player)null!==u.getAttribute("data-setup")&&Ne(u)}else Oe||X(1)}};p()&&"complete"===Gt.readyState?Oe=!0:q(Rt,"load",function(){Oe=!0});function Fe(t){var e=Gt.createElement("style");return e.className=t,e}function Ve(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}function He(t,e,n){function i(){return e.apply(t,arguments)}return e.guid||(e.guid=I()),i.guid=n?n+"_"+e.guid:e.guid,i}function We(e,n){var i=Date.now();return function(){var t=Date.now();n<=t-i&&(e.apply(void 0,arguments),i=t)}}function Ue(){}Ue.prototype.allowedEvents_={},Ue.prototype.addEventListener=Ue.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},W(this,t,e),this.addEventListener=n},Ue.prototype.removeEventListener=Ue.prototype.off=function(t,e){U(this,t,e)},Ue.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},q(this,t,e),this.addEventListener=n},Ue.prototype.dispatchEvent=Ue.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=H(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),z(this,t)};function ze(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length}function qe(t){if(!t.nodeName&&!$e(t))throw new Error("Invalid target; must be a DOM node or evented object.")}function Xe(t){if(!ze(t))throw new Error("Invalid event type; must be a non-empty string or array.")}function Ke(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")}function Ge(t,e){var n=e.length<3||e[0]===t||e[0]===t.eventBusEl_,i=void 0,o=void 0,r=void 0;return r=n?(i=t.eventBusEl_,3<=e.length&&e.shift(),o=e[0],e[1]):(i=e[0],o=e[1],e[2]),qe(i),Xe(o),Ke(r),{isTargetingSelf:n,target:i,type:o,listener:r=He(t,r)}}function Ye(t,e,n,i){qe(t),t.nodeName?Ie[e](t,n,i):t[e](n,i)}var $e=function(e){return e instanceof Ue||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},Je={on:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Ge(this,n),r=o.isTargetingSelf,s=o.target,a=o.type,l=o.listener;if(Ye(s,"on",a,l),!r){function c(){return t.off(s,a,l)}c.guid=l.guid;function h(){return t.off("dispose",c)}h.guid=l.guid,Ye(this,"on","dispose",c),Ye(s,"on","dispose",h)}},one:function(){for(var i=this,t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=Ge(this,e),r=o.isTargetingSelf,s=o.target,a=o.type,l=o.listener;if(r)Ye(s,"one",a,l);else{function c(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];i.off(s,a,c),l.apply(null,e)}c.guid=l.guid,Ye(s,"one",a,c)}},off:function(t,e,n){if(!t||ze(t))U(this.eventBusEl_,t,e);else{var i=t,o=e;qe(i),Xe(o),Ke(n),n=He(this,n),this.off("dispose",n),i.nodeName?(U(i,o,n),U(i,"dispose",n)):$e(i)&&(i.off(o,n),i.off("dispose",n))}},trigger:function(t,e){return z(this.eventBusEl_,t,e)}},Qe={state:{},setState:function(t){var n=this;"function"==typeof t&&(t=t());var i=void 0;return o(t,function(t,e){n.state[e]!==t&&((i=i||{})[e]={from:n.state[e],to:t}),n.state[e]=t}),i&&$e(this)&&this.trigger({changes:i,type:"statechanged"}),i}},Ze=(tn.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),B(this.el_),this.el_=null),this.player_=null},tn.prototype.player=function(){return this.player_},tn.prototype.options=function(t){return Ee.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t&&(this.options_=$(this.options_,t)),this.options_},tn.prototype.el=function(){return this.el_},tn.prototype.createEl=function(t,e,n){return d(t,e,n)},tn.prototype.localize=function(t,o){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),r=i&&i[n],s=n&&n.split("-")[0],a=i&&i[s],l=e;return r&&r[t]?l=r[t]:a&&a[t]&&(l=a[t]),o&&(l=l.replace(/\{(\d+)\}/g,function(t,e){var n=o[e-1],i=n;return void 0===n&&(i=t),i})),l},tn.prototype.contentEl=function(){return this.contentEl_||this.el_},tn.prototype.id=function(){return this.id_},tn.prototype.name=function(){return this.name_},tn.prototype.children=function(){return this.children_},tn.prototype.getChildById=function(t){return this.childIndex_[t]},tn.prototype.getChild=function(t){if(t)return t=Y(t),this.childNameIndex_[t]},tn.prototype.addChild=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=Y(t);var r=e.componentClass||o;e.name=o;var s=tn.getComponent(r);if(!s)throw new Error("Component "+r+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,e)}else i=t;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&Y(i.name()))&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var a=this.contentEl().children[n]||null;this.contentEl().insertBefore(i.el(),a)}return i},tn.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},tn.prototype.initChildren=function(){var o=this,i=this.options_.children;if(i){var r=this.options_,t=void 0,n=tn.getComponent("Tech");(t=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(e){return!t.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(t){var e=void 0,n=void 0;return n="string"==typeof t?i[e=t]||o.options_[e]||{}:(e=t.name,t),{name:e,opts:n}}).filter(function(t){var e=tn.getComponent(t.opts.componentClass||Y(t.name));return e&&!n.isTech(e)}).forEach(function(t){var e=t.name,n=t.opts;if(void 0!==r[e]&&(n=r[e]),!1!==n){!0===n&&(n={}),n.playerOptions=o.options_.playerOptions;var i=o.addChild(e,n);i&&(o[e]=i)}})}},tn.prototype.buildCSSClass=function(){return""},tn.prototype.ready=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},tn.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&0<t.length&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},tn.prototype.$=function(t,e){return Se(t,e||this.contentEl())},tn.prototype.$$=function(t,e){return Pe(t,e||this.contentEl())},tn.prototype.hasClass=function(t){return y(this.el_,t)},tn.prototype.addClass=function(t){v(this.el_,t)},tn.prototype.removeClass=function(t){g(this.el_,t)},tn.prototype.toggleClass=function(t,e){m(this.el_,t,e)},tn.prototype.show=function(){this.removeClass("vjs-hidden")},tn.prototype.hide=function(){this.addClass("vjs-hidden")},tn.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},tn.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},tn.prototype.getAttribute=function(t){return T(this.el_,t)},tn.prototype.setAttribute=function(t,e){C(this.el_,t,e)},tn.prototype.removeAttribute=function(t){k(this.el_,t)},tn.prototype.width=function(t,e){return this.dimension("width",t,e)},tn.prototype.height=function(t,e){return this.dimension("height",t,e)},tn.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},tn.prototype.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],o=i.indexOf("px");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+Y(t)],10)},tn.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof Rt.getComputedStyle){var n=Rt.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(0===(e=parseFloat(e))){var i="offset"+Y(t);e=this.el_[i]}return e},tn.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},tn.prototype.currentWidth=function(){return this.currentDimension("width")},tn.prototype.currentHeight=function(){return this.currentDimension("height")},tn.prototype.focus=function(){this.el_.focus()},tn.prototype.blur=function(){this.el_.blur()},tn.prototype.emitTapEvents=function(){var e=0,i=null,o=void 0;function t(){o=!1}this.on("touchstart",function(t){1===t.touches.length&&(i={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},e=(new Date).getTime(),o=!0)}),this.on("touchmove",function(t){if(1<t.touches.length)o=!1;else if(i){var e=t.touches[0].pageX-i.pageX,n=t.touches[0].pageY-i.pageY;10<Math.sqrt(e*e+n*n)&&(o=!1)}}),this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",function(t){!(i=null)!==o||(new Date).getTime()-e<200&&(t.preventDefault(),this.trigger("tap"))})},tn.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=He(this.player(),this.player().reportUserActivity),n=void 0;function t(t){e(),this.clearInterval(n)}this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)}),this.on("touchmove",e),this.on("touchend",t),this.on("touchcancel",t)}},tn.prototype.setTimeout=function(t,e){var n=this;function i(){return n.clearTimeout(o)}t=He(this,t);var o=Rt.setTimeout(t,e);return i.guid="vjs-timeout-"+o,this.on("dispose",i),o},tn.prototype.clearTimeout=function(t){function e(){}return Rt.clearTimeout(t),e.guid="vjs-timeout-"+t,this.off("dispose",e),t},tn.prototype.setInterval=function(t,e){var n=this;function i(){return n.clearInterval(o)}t=He(this,t);var o=Rt.setInterval(t,e);return i.guid="vjs-interval-"+o,this.on("dispose",i),o},tn.prototype.clearInterval=function(t){function e(){}return Rt.clearInterval(t),e.guid="vjs-interval-"+t,this.off("dispose",e),t},tn.prototype.requestAnimationFrame=function(t){var e=this;if(this.supportsRaf_){function n(){return e.cancelAnimationFrame(i)}t=He(this,t);var i=Rt.requestAnimationFrame(t);return n.guid="vjs-raf-"+i,this.on("dispose",n),i}return this.setTimeout(t,1e3/60)},tn.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){function e(){}return Rt.cancelAnimationFrame(t),e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},tn.registerComponent=function(t,e){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=tn.getComponent("Tech"),i=n&&n.isTech(e),o=tn===e||tn.prototype.isPrototypeOf(e.prototype);if(i||!o)throw new Error('Illegal component, "'+t+'"; '+(i?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=Y(t),tn.components_||(tn.components_={});var r=tn.getComponent("Player");if("Player"===t&&r&&r.players){var s=r.players,a=Object.keys(s);if(s&&0<a.length&&a.map(function(t){return s[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return tn.components_[t]=e},tn.getComponent=function(t){if(t)return t=Y(t),tn.components_&&tn.components_[t]?tn.components_[t]:void 0},tn);function tn(t,e,n){if(Ft(this,tn),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=$({},this.options_),e=this.options_=$(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+I()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&K(this,{eventBusKey:this.el_?"el_":null}),G(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}Ze.prototype.supportsRaf_="function"==typeof Rt.requestAnimationFrame&&"function"==typeof Rt.cancelAnimationFrame,Ze.registerComponent("Component",Ze);for(var en={},nn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],on=nn[0],rn=void 0,sn=0;sn<nn.length;sn++)if(nn[sn][1]in Gt){rn=nn[sn];break}if(rn)for(var an=0;an<rn.length;an++)en[on[an]]=rn[an];et.prototype.code=0,et.prototype.message="",et.prototype.status=null,et.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],et.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ln=0;ln<et.errorTypes.length;ln++)et[et.errorTypes[ln]]=ln,et.prototype[et.errorTypes[ln]]=ln;function cn(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,e,n){return i[e]&&(t[e]=i[e]),t},{cues:i.cues&&Array.prototype.map.call(i.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})}var hn,dn=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]},un=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=cn(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(cn))},pn=function(t,n){return t.forEach(function(t){var e=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return e.addCue(t)})}),n.textTracks()},fn="vjs-modal-dialog",yn=(Vt(vn,hn=Ze),vn.prototype.createEl=function(){return hn.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},vn.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,hn.prototype.dispose.call(this)},vn.prototype.buildCSSClass=function(){return fn+" vjs-hidden "+hn.prototype.buildCSSClass.call(this)},vn.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},vn.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},vn.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},vn.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",He(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},vn.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},vn.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",He(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},vn.prototype.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},vn.prototype.fill=function(){this.fillWith(this.content())},vn.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),D(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var o=this.getChild("closeButton");o&&n.appendChild(o.el_)},vn.prototype.empty=function(){this.trigger("beforemodalempty"),x(this.contentEl()),this.trigger("modalempty")},vn.prototype.content=function(t){return void 0!==t&&(this.content_=t),this.content_},vn.prototype.conditionalFocus_=function(){var t=Gt.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,!e.contains(t)&&e!==t||(this.previouslyActiveEl_=t,this.focus(),this.on(Gt,"keydown",this.handleKeyDown))},vn.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(Gt,"keydown",this.handleKeyDown)},vn.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,o=0;o<e.length;o++)if(n===e[o]){i=o;break}Gt.activeElement===this.el_&&(i=0),t.shiftKey&&0===i?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||i!==e.length-1||(e[0].focus(),t.preventDefault())}},vn.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof Rt.HTMLAnchorElement||t instanceof Rt.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof Rt.HTMLInputElement||t instanceof Rt.HTMLSelectElement||t instanceof Rt.HTMLTextAreaElement||t instanceof Rt.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof Rt.HTMLIFrameElement||t instanceof Rt.HTMLObjectElement||t instanceof Rt.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},vn);function vn(t,e){Ft(this,vn);var n=Ht(this,hn.call(this,t,e));return n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=d("div",{className:fn+"-content"},{role:"document"}),n.descEl_=d("p",{className:fn+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),h(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}yn.prototype.options_={pauseOnOpen:!0,temporary:!0},Ze.registerComponent("ModalDialog",yn);var gn,mn=(Vt(_n,gn=Ue),_n.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},_n.prototype.removeTrack=function(t){for(var e=void 0,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},_n.prototype.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===t){e=o;break}}return e},_n);function _n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Ft(this,_n);var n=Ht(this,gn.call(this));if(!e&&(e=n,de))for(var i in e=Gt.createElement("custom"),_n.prototype)"constructor"!==i&&(e[i]=_n.prototype[i]);e.tracks_=[],Object.defineProperty(e,"length",{get:function(){return this.tracks_.length}});for(var o=0;o<t.length;o++)e.addTrack(t[o]);return Ht(n,e)}for(var bn in mn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},mn.prototype.allowedEvents_)mn.prototype["on"+bn]=null;function Tn(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)}function Cn(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)}function kn(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=Gt.createElement("a");n.href=t;var i=""===n.host&&"file:"!==n.protocol,o=void 0;i&&((o=Gt.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),Gt.body.appendChild(o));for(var r={},s=0;s<e.length;s++)r[e[s]]=n[e[s]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=Rt.location.protocol),i&&Gt.body.removeChild(o),r}function En(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(e)return e.pop().toLowerCase()}return""}function wn(t){var e=Rt.location,n=kn(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host}var An,Sn,Pn,jn,xn=(Vt(ni,jn=mn),ni.prototype.addTrack=function(t){var e=this;t.enabled&&Tn(this,t),jn.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){e.changing_||(e.changing_=!0,Tn(e,t),e.changing_=!1,e.trigger("change"))})},ni),Mn=(Vt(ei,Pn=mn),ei.prototype.addTrack=function(t){var e=this;t.selected&&Cn(this,t),Pn.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){e.changing_||(e.changing_=!0,Cn(e,t),e.changing_=!1,e.trigger("change"))})},ei),Ln=(Vt(ti,Sn=mn),ti.prototype.addTrack=function(t){Sn.prototype.addTrack.call(this,t),t.addEventListener("modechange",He(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",He(this,function(){this.trigger("selectedlanguagechange")}))},ti),Dn=(Zn.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},Zn.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},Zn.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},Zn),Rn=(Qn.prototype.setCues_=function(t){var e=this.length||0,n=0,i=t.length;function o(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})}if(this.cues_=t,this.length_=t.length,e<i)for(n=e;n<i;n++)o.call(this,n)},Qn.prototype.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var o=this[n];if(o.id===t){e=o;break}}return e},Qn),In={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},On={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Nn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Bn={disabled:"disabled",hidden:"hidden",showing:"showing"},Fn=(Vt(Jn,An=Ue),Jn),Vn=(Object.freeze||Object)({parseUrl:kn,getAbsoluteURL:function(t){if(!t.match(/^https?:\/\//)){var e=Gt.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},getFileExtension:En,isCrossOrigin:wn}),Hn=function(t){var e=Wn.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)},Wn=Object.prototype.toString,Un=t(function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}),zn=function(t,e,n){if(!Hn(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===qn.call(t)?function(t,e,n){for(var i=0,o=t.length;i<o;i++)Xn.call(t,i)&&e.call(n,t[i],i,t)}(t,e,n):"string"==typeof t?function(t,e,n){for(var i=0,o=t.length;i<o;i++)e.call(n,t.charAt(i),i,t)}(t,e,n):function(t,e,n){for(var i in t)Xn.call(t,i)&&e.call(n,t[i],i,t)}(t,e,n)},qn=Object.prototype.toString,Xn=Object.prototype.hasOwnProperty,Kn=function(t){if(!t)return{};var o={};return zn(Un(t).split("\n"),function(t){var e=t.indexOf(":"),n=Un(t.slice(0,e)).toLowerCase(),i=Un(t.slice(e+1));void 0===o[n]?o[n]=i:function(t){return"[object Array]"===Object.prototype.toString.call(t)}(o[n])?o[n].push(i):o[n]=[o[n],i]}),o},Gn=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)Yn.call(n,i)&&(t[i]=n[i])}return t},Yn=Object.prototype.hasOwnProperty,$n=rt;function Jn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ft(this,Jn);var e=Ht(this,An.call(this)),n=e;if(de)for(var i in n=Gt.createElement("custom"),Jn.prototype)"constructor"!==i&&(n[i]=Jn.prototype[i]);var o={id:t.id||"vjs_track_"+I(),kind:t.kind||"",label:t.label||"",language:t.language||""};for(var r in o)!function(t){Object.defineProperty(n,t,{get:function(){return o[t]},set:function(){}})}(r);return Ht(e,n)}function Qn(t){Ft(this,Qn);var e=this;if(de)for(var n in e=Gt.createElement("custom"),Qn.prototype)"constructor"!==n&&(e[n]=Qn.prototype[n]);if(Qn.prototype.setCues_.call(e,t),Object.defineProperty(e,"length",{get:function(){return this.length_}}),de)return e}function Zn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];Ft(this,Zn);var e=this;if(de)for(var n in e=Gt.createElement("custom"),Zn.prototype)"constructor"!==n&&(e[n]=Zn.prototype[n]);e.trackElements_=[],Object.defineProperty(e,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=t.length;i<o;i++)e.addTrackElement_(t[i]);if(de)return e}function ti(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];Ft(this,ti);var n=void 0;if(de){for(var i in n=Gt.createElement("custom"),mn.prototype)"constructor"!==i&&(n[i]=mn.prototype[i]);for(var o in ti.prototype)"constructor"!==o&&(n[o]=ti.prototype[o])}return n=t=Ht(this,Sn.call(this,e,n)),Ht(t,n)}function ei(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];Ft(this,ei);for(var n=void 0,i=e.length-1;0<=i;i--)if(e[i].selected){Cn(e,e[i]);break}if(de){for(var o in n=Gt.createElement("custom"),mn.prototype)"constructor"!==o&&(n[o]=mn.prototype[o]);for(var r in ei.prototype)"constructor"!==r&&(n[r]=ei.prototype[r])}return(n=t=Ht(this,Pn.call(this,e,n))).changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),Ht(t,n)}function ni(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];Ft(this,ni);for(var n=void 0,i=e.length-1;0<=i;i--)if(e[i].enabled){Tn(e,e[i]);break}if(de){for(var o in n=Gt.createElement("custom"),mn.prototype)"constructor"!==o&&(n[o]=mn.prototype[o]);for(var r in ni.prototype)"constructor"!==r&&(n[r]=ni.prototype[r])}return(n=t=Ht(this,jn.call(this,e,n))).changing_=!1,Ht(t,n)}rt.XMLHttpRequest=Rt.XMLHttpRequest||function(){},rt.XDomainRequest="withCredentials"in new rt.XMLHttpRequest?rt.XMLHttpRequest:Rt.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(i){rt["delete"===i?"del":i]=function(t,e,n){return(e=ot(t,e,n)).method=i.toUpperCase(),st(e)}});function ii(t,e){var n=new Rt.WebVTT.Parser(Rt,Rt.vttjs,Rt.WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),0<i.length&&(Rt.console&&Rt.console.groupCollapsed&&Rt.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach(function(t){return Ee.error(t)}),Rt.console&&Rt.console.groupEnd&&Rt.console.groupEnd()),n.flush()}var oi,ri=(Vt(si,oi=Fn),si.prototype.addCue=function(t){var e=t;if(Rt.vttjs&&!(t instanceof Rt.vttjs.VTTCue)){for(var n in e=new Rt.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),o=0;o<i.length;o++)i[o]!==this&&i[o].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},si.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},si);function si(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Ft(this,si),!e.tech)throw new Error("A tech was not provided.");var n=$(e,{kind:Nn[e.kind]||"subtitles",language:e.language||e.srclang||""}),i=Bn[n.mode]||"disabled",o=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(i="hidden");var r=t=Ht(this,oi.call(this,n));if(r.tech_=n.tech,de)for(var s in si.prototype)"constructor"!==s&&(r[s]=si.prototype[s]);r.cues_=[],r.activeCues_=[];var a=new Rn(r.cues_),l=new Rn(r.activeCues_),c=!1,h=He(r,function(){this.activeCues,c&&(this.trigger("cuechange"),c=!1)});return"disabled"!==i&&r.tech_.ready(function(){r.tech_.on("timeupdate",h)},!0),Object.defineProperty(r,"default",{get:function(){return o},set:function(){}}),Object.defineProperty(r,"mode",{get:function(){return i},set:function(t){var e=this;Bn[t]&&("showing"===(i=t)&&this.tech_.ready(function(){e.tech_.on("timeupdate",h)},!0),this.trigger("modechange"))}}),Object.defineProperty(r,"cues",{get:function(){return this.loaded_?a:null},set:function(){}}),Object.defineProperty(r,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return l;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var o=this.cues[n];o.startTime<=t&&o.endTime>=t?e.push(o):o.startTime===o.endTime&&o.startTime<=t&&o.startTime+.5>=t&&e.push(o)}if(c=!1,e.length!==this.activeCues_.length)c=!0;else for(var r=0;r<e.length;r++)-1===this.activeCues_.indexOf(e[r])&&(c=!0);return this.activeCues_=e,l.setCues_(this.activeCues_),l},set:function(){}}),n.src?(r.src=n.src,function(t,o){var e={uri:t},n=wn(t);n&&(e.cors=n),$n(e,He(this,function(t,e,n){if(t)return Ee.error(t,e);if(o.loaded_=!0,"function"!=typeof Rt.WebVTT){if(o.tech_){function i(){return ii(n,o)}o.tech_.on("vttjsloaded",i),o.tech_.on("vttjserror",function(){Ee.error("vttjs failed to load, stopping trying to process "+o.src),o.tech_.off("vttjsloaded",i)})}}else ii(n,o)}))}(n.src,r)):r.loaded_=!0,Ht(t,r)}ri.prototype.allowedEvents_={cuechange:"cuechange"};var ai,li,ci,hi=(Vt(yi,ci=Fn),yi),di=(Vt(fi,li=Fn),fi),ui=(Vt(pi,ai=Ue),pi);function pi(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ft(this,pi);var e=Ht(this,ai.call(this)),n=void 0,i=e;if(de)for(var o in i=Gt.createElement("custom"),pi.prototype)"constructor"!==o&&(i[o]=pi.prototype[o]);var r=new ri(t);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperty(i,"readyState",{get:function(){return n}}),Object.defineProperty(i,"track",{get:function(){return r}}),n=0,r.addEventListener("loadeddata",function(){n=2,i.trigger({type:"load",target:i})}),de?Ht(e,i):e}function fi(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ft(this,fi);var n=$(e,{kind:In[e.kind]||""}),i=t=Ht(this,li.call(this,n)),o=!1;if(de)for(var r in fi.prototype)"constructor"!==r&&(i[r]=fi.prototype[r]);return Object.defineProperty(i,"selected",{get:function(){return o},set:function(t){"boolean"==typeof t&&t!==o&&(o=t,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),Ht(t,i)}function yi(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ft(this,yi);var n=$(e,{kind:On[e.kind]||""}),i=t=Ht(this,ci.call(this,n)),o=!1;if(de)for(var r in yi.prototype)"constructor"!==r&&(i[r]=yi.prototype[r]);return Object.defineProperty(i,"enabled",{get:function(){return o},set:function(t){"boolean"==typeof t&&t!==o&&(o=t,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,Ht(t,i)}ui.prototype.allowedEvents_={load:"load"},ui.NONE=0,ui.LOADING=1,ui.LOADED=2,ui.ERROR=3;var vi={audio:{ListClass:xn,TrackClass:hi,capitalName:"Audio"},video:{ListClass:Mn,TrackClass:di,capitalName:"Video"},text:{ListClass:Ln,TrackClass:ri,capitalName:"Text"}};Object.keys(vi).forEach(function(t){vi[t].getterName=t+"Tracks",vi[t].privateName=t+"Tracks_"});var gi={remoteText:{ListClass:Ln,TrackClass:ri,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Dn,TrackClass:ui,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},mi=$(vi,gi);gi.names=Object.keys(gi),vi.names=Object.keys(vi),mi.names=[].concat(gi.names).concat(vi.names);var _i=Object.create||function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return bi.prototype=t,new bi};function bi(){}((at.prototype=_i(Error.prototype)).constructor=at).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},ct.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&e<=100)&&(this.set(t,e),!0)}};var Ti={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},Ci={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},ki={v:"title",lang:"lang"},Ei={rt:"ruby"},wi=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];ft.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},ft.prototype.formatStyle=function(t,e){return 0===t?0:t+e},(yt.prototype=_i(ft.prototype)).constructor=yt,vt.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},vt.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},vt.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},vt.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},vt.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},vt.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},vt.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},vt.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},mt.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},mt.convertCueToDOMTree=function(t,e){return t&&e?ut(t,e):null},mt.processCues=function(i,o,t){if(!i||!o||!t)return null;for(;t.firstChild;)t.removeChild(t.firstChild);var r=i.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",t.appendChild(r),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(o)){var s=[],a=vt.getSimpleBoxPosition(r),l={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var t,e,n=0;n<o.length;n++)e=o[n],t=new yt(i,e,l),r.appendChild(t.div),gt(0,t,a,s),e.displayState=t.div,s.push(vt.getSimpleBoxPosition(t))}()}else for(var e=0;e<o.length;e++)r.appendChild(o[e].displayState)},(mt.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof at))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){function e(){for(var t=r.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,r.buffer=t.substr(e),n}function n(t){var o=new ct;if(ht(t,function(t,e){switch(t){case"id":o.set(t,e);break;case"width":o.percent(t,e);break;case"lines":o.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var i=new ct;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;o.set(t+"X",i.get("x")),o.set(t+"Y",i.get("y"));break;case"scroll":o.alt(t,e,["up"])}},/=/,/\s/),o.has("id")){var e=new(r.vttjs.VTTRegion||r.window.VTTRegion);e.width=o.get("width",100),e.lines=o.get("lines",3),e.regionAnchorX=o.get("regionanchorX",0),e.regionAnchorY=o.get("regionanchorY",100),e.viewportAnchorX=o.get("viewportanchorX",0),e.viewportAnchorY=o.get("viewportanchorY",100),e.scroll=o.get("scroll",""),r.onregion&&r.onregion(e),r.regionList.push({id:o.get("id"),region:e})}}var i,r=this;t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));try{var o;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var s=(o=e()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new at(at.Errors.BadSignature);r.state="HEADER"}for(var a=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(a?a=!1:o=e(),r.state){case"HEADER":/:/.test(o)?(i=o).match(/X-TIMESTAMP-MAP/)?ht(i,function(t,e){switch(t){case"X-TIMESTAMP-MAP":n=e,i=new ct,ht(n,function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",lt(e))}},/[^\d]:/,/,/),r.ontimestampmap&&r.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}var n,i},/=/):ht(i,function(t,e){switch(t){case"Region":n(e)}},/:/):o||(r.state="ID");continue;case"NOTE":o||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){r.state="NOTE";break}if(!o)continue;if(r.cue=new(r.vttjs.VTTCue||r.window.VTTCue)(0,0,""),r.state="CUE",-1===o.indexOf("--\x3e")){r.cue.id=o;continue}case"CUE":try{dt(o,r.cue,r.regionList)}catch(t){r.reportOrThrowError(t),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var l=-1!==o.indexOf("--\x3e");if(!o||l&&(a=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=o;continue;case"BADCUE":o||(r.state="ID");continue}}}catch(t){r.reportOrThrowError(t),"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),!e.cue&&"HEADER"!==e.state||(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new at(at.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var Ai=mt,Si={"":!0,lr:!0,rl:!0},Pi={start:!0,middle:!0,end:!0,left:!0,right:!0};Tt.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};function ji(){var e=100,n=3,i=0,o=100,r=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!Ct(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return n},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");n=t}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Ct(t))throw new Error("RegionAnchorX must be between 0 and 100.");o=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!Ct(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!Ct(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!Ct(t))throw new Error("ViewportAnchorX must be between 0 and 100.");r=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){var e=function(t){return"string"==typeof t&&!!Li[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");a=e}}})}var xi,Mi=Tt,Li={"":!0,up:!0},Di=t(function(t){var e=t.exports={WebVTT:Ai,VTTCue:Mi,VTTRegion:ji};Rt.vttjs=e,Rt.WebVTT=e.WebVTT;var n=e.VTTCue,i=e.VTTRegion,o=Rt.VTTCue,r=Rt.VTTRegion;e.shim=function(){Rt.VTTCue=n,Rt.VTTRegion=i},e.restore=function(){Rt.VTTCue=o,Rt.VTTRegion=r},Rt.VTTCue||e.shim()}),Ri=(Vt(Ii,xi=Ze),Ii.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},Ii.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},Ii.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(He(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),1===(this.bufferedPercent_=t)&&this.stopTrackingProgress()}),500)},Ii.prototype.onDurationChange=function(t){this.duration_=this.duration()},Ii.prototype.buffered=function(){return Z(0,0)},Ii.prototype.bufferedPercent=function(){return tt(this.buffered(),this.duration_)},Ii.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},Ii.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},Ii.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},Ii.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},Ii.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Ii.prototype.dispose=function(){this.clearTracks(vi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),xi.prototype.dispose.call(this)},Ii.prototype.clearTracks=function(t){var o=this;(t=[].concat(t)).forEach(function(t){for(var e=o[t+"Tracks"]()||[],n=e.length;n--;){var i=e[n];"text"===t&&o.removeRemoteTextTrack(i),e.removeTrack(i)}})},Ii.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},Ii.prototype.reset=function(){},Ii.prototype.error=function(t){return void 0!==t&&(this.error_=new et(t),this.trigger("error")),this.error_},Ii.prototype.played=function(){return this.hasStarted_?Z(0,0):Z()},Ii.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Ii.prototype.initTrackListeners=function(){var o=this;vi.names.forEach(function(t){function e(){o.trigger(t+"trackchange")}var n=vi[t],i=o[n.getterName]();i.addEventListener("removetrack",e),i.addEventListener("addtrack",e),o.on("dispose",function(){i.removeEventListener("removetrack",e),i.removeEventListener("addtrack",e)})})},Ii.prototype.addWebVttScript_=function(){var t=this;if(!Rt.WebVTT)if(Gt.body.contains(this.el())){if(!this.options_["vtt.js"]&&r(Di)&&0<Object.keys(Di).length)return void this.trigger("vttjsloaded");var e=Gt.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),Rt.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},Ii.prototype.emulateTextTracks=function(){function e(t){return i.addTrack(t.track)}function n(t){return i.removeTrack(t.track)}var t=this,i=this.textTracks(),o=this.remoteTextTracks();function r(){return t.trigger("texttrackchange")}function s(){r();for(var t=0;t<i.length;t++){var e=i[t];e.removeEventListener("cuechange",r),"showing"===e.mode&&e.addEventListener("cuechange",r)}}o.on("addtrack",e),o.on("removetrack",n),this.addWebVttScript_(),s(),i.addEventListener("change",s),i.addEventListener("addtrack",s),i.addEventListener("removetrack",s),this.on("dispose",function(){o.off("addtrack",e),o.off("removetrack",n),i.removeEventListener("change",s),i.removeEventListener("addtrack",s),i.removeEventListener("removetrack",s);for(var t=0;t<i.length;t++)i[t].removeEventListener("cuechange",r)})},Ii.prototype.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i,o){var r=4<arguments.length&&void 0!==o?o:{},s=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var a=new mi.text.TrackClass(r);return s.addTrack(a),a}(this,t,e,n)},Ii.prototype.createRemoteTextTrack=function(t){var e=$(t,{tech:this});return new gi.remoteTextEl.TrackClass(e)},Ii.prototype.addRemoteTextTrack=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(e);return!0!==n&&!1!==n&&(Ee.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==n&&this.ready(function(){return t.autoRemoteTextTracks_.addTrack(i.track)}),i},Ii.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},Ii.prototype.getVideoPlaybackQuality=function(){return{}},Ii.prototype.setPoster=function(){},Ii.prototype.playsinline=function(){},Ii.prototype.setPlaysinline=function(){},Ii.prototype.canPlayType=function(){return""},Ii.canPlayType=function(){return""},Ii.canPlaySource=function(t,e){return Ii.canPlayType(t.type)},Ii.isTech=function(t){return t.prototype instanceof Ii||t instanceof Ii||t===Ii},Ii.registerTech=function(t,e){if(Ii.techs_||(Ii.techs_={}),!Ii.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!Ii.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Ii.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Y(t),Ii.techs_[t]=e,"Tech"!==t&&Ii.defaultTechOrder_.push(t),e},Ii.getTech=function(t){if(t)return t=Y(t),Ii.techs_&&Ii.techs_[t]?Ii.techs_[t]:Rt&&Rt.videojs&&Rt.videojs[t]?(Ee.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Rt.videojs[t]):void 0},Ii);function Ii(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};Ft(this,Ii),n.reportTouchActivity=!1;var i=Ht(this,xi.call(this,null,n,t));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),mi.names.forEach(function(t){var e=mi[t];n&&n[e.getterName]&&(i[e.privateName]=n[e.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===n["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new mi.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}mi.names.forEach(function(t){var e=mi[t];Ri.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),Ri.prototype.featuresVolumeControl=!0,Ri.prototype.featuresFullscreenResize=!1,Ri.prototype.featuresPlaybackRate=!1,Ri.prototype.featuresProgressEvents=!1,Ri.prototype.featuresTimeupdateEvents=!1,Ri.prototype.featuresNativeTextTracks=!1,Ri.withSourceHandlers=function(o){o.registerSourceHandler=function(t,e){var n=o.sourceHandlers;n||(n=o.sourceHandlers=[]),void 0===e&&(e=n.length),n.splice(e,0,t)},o.canPlayType=function(t){for(var e=o.sourceHandlers||[],n=void 0,i=0;i<e.length;i++)if(n=e[i].canPlayType(t))return n;return""},o.selectSourceHandler=function(t,e){for(var n=o.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(t,e))return n[i];return null},o.canPlaySource=function(t,e){var n=o.selectSourceHandler(t,e);return n?n.canHandleSource(t,e):""},["seekable","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},o.prototype),o.prototype.setSource=function(t){var e=o.selectSourceHandler(t,this.options_);e||(o.nativeSourceHandler?e=o.nativeSourceHandler:Ee.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),e!==o.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=e.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},o.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ze.registerComponent("Tech",Ri),Ri.registerTech("Tech",Ri),Ri.defaultTechOrder_=[];var Oi,Ni={},Bi={},Fi={},Vi={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Hi={setCurrentTime:1},Wi={play:1,pause:1},Ui=(Vt(zi,Oi=Ze),zi);function zi(t,e,n){Ft(this,zi);var i=$({createEl:!1},e),o=Ht(this,Oi.call(this,t,i,n));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)t.src(e.playerOptions.sources);else for(var r=0,s=e.playerOptions.techOrder;r<s.length;r++){var a=Y(s[r]),l=Ri.getTech(a);if(a||(l=Ze.getComponent(a)),l&&l.isSupported()){t.loadTech_(a);break}}return o}Ze.registerComponent("MediaLoader",Ui);var qi,Xi=(Vt(Ki,qi=Ze),Ki.prototype.createEl=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};e=u({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},e),"button"===t&&Ee.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=u({role:"button","aria-live":"polite"},n),this.tabIndex_=e.tabIndex;var i=qi.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(i),i},Ki.prototype.dispose=function(){this.controlTextEl_=null,qi.prototype.dispose.call(this)},Ki.prototype.createControlTextEl=function(t){return this.controlTextEl_=d("span",{className:"vjs-control-text"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},Ki.prototype.controlText=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,h(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},Ki.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+qi.prototype.buildCSSClass.call(this)},Ki.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},Ki.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},Ki.prototype.handleClick=function(t){},Ki.prototype.handleFocus=function(t){W(Gt,"keydown",He(this,this.handleKeyPress))},Ki.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):qi.prototype.handleKeyPress&&qi.prototype.handleKeyPress.call(this,t)},Ki.prototype.handleBlur=function(t){U(Gt,"keydown",He(this,this.handleKeyPress))},Ki);function Ki(t,e){Ft(this,Ki);var n=Ht(this,qi.call(this,t,e));return n.emitTapEvents(),n.enable(),n}Ze.registerComponent("ClickableComponent",Xi);var Gi,Yi=(Vt($i,Gi=Xi),$i.prototype.dispose=function(){this.player().off("posterchange",this.update),Gi.prototype.dispose.call(this)},$i.prototype.createEl=function(){var t=d("div",{className:"vjs-poster",tabIndex:-1});return ve||(this.fallbackImg_=d("img"),t.appendChild(this.fallbackImg_)),t},$i.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},$i.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},$i.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},$i);function $i(t,e){Ft(this,$i);var n=Ht(this,Gi.call(this,t,e));return n.update(),t.on("posterchange",He(n,n.update)),n}Ze.registerComponent("PosterImage",Yi);var Ji,Qi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},Zi=(Vt(to,Ji=Ze),to.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,i=void 0,o=void 0,r=void 0,s=0;s<e.length;s++){var a=e[s];n&&n.enabled&&n.language===a.language?a.kind===n.kind?r=a:r||(r=a):n&&!n.enabled?o=i=r=null:a.default&&("descriptions"!==a.kind||i?a.kind in t&&!o&&(o=a):i=a)}r?r.mode="showing":o?o.mode="showing":i&&(i.mode="showing")},to.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},to.prototype.createEl=function(){return Ji.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},to.prototype.clearDisplay=function(){"function"==typeof Rt.WebVTT&&Rt.WebVTT.processCues(Rt,[],this.el_)},to.prototype.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();for(var e=null,n=null,i=t.length;i--;){var o=t[i];"showing"===o.mode&&("descriptions"===o.kind?e=o:n=o)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},to.prototype.updateForTrack=function(t){if("function"==typeof Rt.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(Rt.WebVTT.processCues(Rt,e,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),o=e.length;o--;){var r=e[o];if(r){var s=r.displayState;if(i.color&&(s.firstChild.style.color=i.color),i.textOpacity&&Pt(s.firstChild,"color",St(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(s.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&Pt(s.firstChild,"backgroundColor",St(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?Pt(s,"backgroundColor",St(i.windowColor,i.windowOpacity)):s.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent){var a=Rt.parseFloat(s.style.fontSize);s.style.fontSize=a*i.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=Qi[i.fontFamily])}}}},to);function to(n,t,e){Ft(this,to);var i=Ht(this,Ji.call(this,n,t,e));return n.on("loadstart",He(i,i.toggleDisplay)),n.on("texttrackchange",He(i,i.updateDisplay)),n.on("loadstart",He(i,i.preselectTrack)),n.ready(He(i,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",He(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}})),i}Ze.registerComponent("TextTrackDisplay",Zi);var eo,no=(Vt(io,eo=Ze),io.prototype.createEl=function(){var t=this.player_.isAudio(),e=this.localize(t?"Audio Player":"Video Player"),n=d("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[e])}),i=eo.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},io);function io(){return Ft(this,io),Ht(this,eo.apply(this,arguments))}Ze.registerComponent("LoadingSpinner",no);var oo,ro=(Vt(so,oo=Xi),so.prototype.createEl=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t="button",e=u({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=u({type:"button","aria-live":"polite"},n);var i=Ze.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},so.prototype.addChild=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return Ee.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Ze.prototype.addChild.call(this,t,e)},so.prototype.enable=function(){oo.prototype.enable.call(this),this.el_.removeAttribute("disabled")},so.prototype.disable=function(){oo.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},so.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&oo.prototype.handleKeyPress.call(this,t)},so);function so(){return Ft(this,so),Ht(this,oo.apply(this,arguments))}Ze.registerComponent("Button",ro);var ao,lo=(Vt(co,ao=ro),co.prototype.buildCSSClass=function(){return"vjs-big-play-button"},co.prototype.handleClick=function(t){var e=this.player_.play();if(!(this.mouseused_&&t.clientX&&t.clientY)){var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i)return void this.player_.focus();function o(){return i.focus()}nt(e)?e.then(o,function(){}):this.setTimeout(o,1)}},co.prototype.handleKeyPress=function(t){this.mouseused_=!1,ao.prototype.handleKeyPress.call(this,t)},co.prototype.handleMouseDown=function(t){this.mouseused_=!0},co);function co(t,e){Ft(this,co);var n=Ht(this,ao.call(this,t,e));return n.mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}lo.prototype.controlText_="Play Video",Ze.registerComponent("BigPlayButton",lo);var ho,uo=(Vt(po,ho=ro),po.prototype.buildCSSClass=function(){return"vjs-close-button "+ho.prototype.buildCSSClass.call(this)},po.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},po);function po(t,e){Ft(this,po);var n=Ht(this,ho.call(this,t,e));return n.controlText(e&&e.controlText||n.localize("Close")),n}Ze.registerComponent("CloseButton",uo);var fo,yo=(Vt(vo,fo=ro),vo.prototype.buildCSSClass=function(){return"vjs-play-control "+fo.prototype.buildCSSClass.call(this)},vo.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},vo.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},vo.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},vo.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},vo.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},vo);function vo(t,e){Ft(this,vo);var n=Ht(this,fo.call(this,t,e));return n.on(t,"play",n.handlePlay),n.on(t,"pause",n.handlePause),n.on(t,"ended",n.handleEnded),n}yo.prototype.controlText_="Play",Ze.registerComponent("PlayToggle",yo);var go,mo=(Vt(_o,go=Ze),_o.prototype.createEl=function(t){var e=this.buildCSSClass(),n=go.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"});return this.contentEl_=d("div",{className:e+"-display"},{"aria-live":"off"},d("span",{className:"vjs-control-text",textContent:this.localize(this.controlText_)})),this.updateTextNode_(),n.appendChild(this.contentEl_),n},_o.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,go.prototype.dispose.call(this)},_o.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=Gt.createTextNode(this.formattedTime_||"0:00"),this.contentEl_.appendChild(this.textNode_)}},_o.prototype.formatTime_=function(t){return jt(t)},_o.prototype.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},_o.prototype.updateContent=function(t){},_o);function _o(t,e){Ft(this,_o);var n=Ht(this,go.call(this,t,e));return n.throttledUpdateContent=We(He(n,n.updateContent),25),n.on(t,"timeupdate",n.throttledUpdateContent),n}mo.prototype.controlText_="Time",Ze.registerComponent("TimeDisplay",mo);var bo,To=(Vt(Co,bo=mo),Co.prototype.buildCSSClass=function(){return"vjs-current-time"},Co.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},Co.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},Co);function Co(t,e){Ft(this,Co);var n=Ht(this,bo.call(this,t,e));return n.on(t,"ended",n.handleEnded),n}To.prototype.controlText_="Current Time",Ze.registerComponent("CurrentTimeDisplay",To);var ko,Eo=(Vt(wo,ko=mo),wo.prototype.buildCSSClass=function(){return"vjs-duration"},wo.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},wo);function wo(t,e){Ft(this,wo);var n=Ht(this,ko.call(this,t,e));return n.on(t,"durationchange",n.updateContent),n.on(t,"loadedmetadata",n.throttledUpdateContent),n}Eo.prototype.controlText_="Duration Time",Ze.registerComponent("DurationDisplay",Eo);var Ao,So=(Vt(Po,Ao=Ze),Po.prototype.createEl=function(){return Ao.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},Po);function Po(){return Ft(this,Po),Ht(this,Ao.apply(this,arguments))}Ze.registerComponent("TimeDivider",So);var jo,xo=(Vt(Mo,jo=mo),Mo.prototype.buildCSSClass=function(){return"vjs-remaining-time"},Mo.prototype.formatTime_=function(t){return"-"+jo.prototype.formatTime_.call(this,t)},Mo.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},Mo.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},Mo);function Mo(t,e){Ft(this,Mo);var n=Ht(this,jo.call(this,t,e));return n.on(t,"durationchange",n.throttledUpdateContent),n.on(t,"ended",n.handleEnded),n}xo.prototype.controlText_="Remaining Time",Ze.registerComponent("RemainingTimeDisplay",xo);var Lo,Do=(Vt(Ro,Lo=Ze),Ro.prototype.createEl=function(){var t=Lo.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=d("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},Ro.prototype.dispose=function(){this.contentEl_=null,Lo.prototype.dispose.call(this)},Ro.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},Ro);function Ro(t,e){Ft(this,Ro);var n=Ht(this,Lo.call(this,t,e));return n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}Ze.registerComponent("LiveDisplay",Do);var Io,Oo=(Vt(No,Io=Ze),No.prototype.enabled=function(){return this.enabled_},No.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},No.prototype.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},No.prototype.createEl=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e.className=e.className+" vjs-slider",e=u({tabIndex:0},e),n=u({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),Io.prototype.createEl.call(this,t,e,n)},No.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;t.preventDefault(),E(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},No.prototype.handleMouseMove=function(t){},No.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;w(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},No.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",i=e.el().style;return this.vertical()?i.height=n:i.width=n,t}}},No.prototype.calculateDistance=function(t){var e=P(this.el_,t);return this.vertical()?e.y:e.x},No.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},No.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},No.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},No.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},No.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},No);function No(t,e){Ft(this,No);var n=Ht(this,Io.call(this,t,e));return n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}Ze.registerComponent("Slider",Oo);var Bo,Fo=(Vt(Vo,Bo=Ze),Vo.prototype.createEl=function(){return Bo.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},Vo.prototype.dispose=function(){this.partEls_=null,Bo.prototype.dispose.call(this)},Vo.prototype.update=function(t){function e(t,e){var n=t/e||0;return 100*(1<=n?1:n)+"%"}var n=this.player_.buffered(),i=this.player_.duration(),o=this.player_.bufferedEnd(),r=this.partEls_;this.el_.style.width=e(o,i);for(var s=0;s<n.length;s++){var a=n.start(s),l=n.end(s),c=r[s];c||(c=this.el_.appendChild(d()),r[s]=c),c.style.left=e(a,o),c.style.width=e(l-a,o)}for(var h=r.length;h>n.length;h--)this.el_.removeChild(r[h-1]);r.length=n.length},Vo);function Vo(t,e){Ft(this,Vo);var n=Ht(this,Bo.call(this,t,e));return n.partEls_=[],n.on(t,"progress",n.update),n}Ze.registerComponent("LoadProgressBar",Fo);var Ho,Wo=(Vt(Uo,Ho=Ze),Uo.prototype.createEl=function(){return Ho.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},Uo.prototype.update=function(t,e,n){var i=A(this.el_),o=A(this.player_.el()),r=t.width*e;if(o&&i){var s=t.left-o.left+r,a=t.width-r+(o.right-t.right),l=i.width/2;s<l?l+=l-s:a<l&&(l=a),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-"+l+"px",h(this.el_,n)}},Uo);function Uo(){return Ft(this,Uo),Ht(this,Ho.apply(this,arguments))}Ze.registerComponent("TimeTooltip",Wo);var zo,qo=(Vt(Xo,zo=Ze),Xo.prototype.createEl=function(){return zo.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},Xo.prototype.update=function(n,i){var o=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var t=jt(o.player_.scrubbing()?o.player_.getCache().currentTime:o.player_.currentTime(),o.player_.duration()),e=o.getChild("timeTooltip");e&&e.update(n,i,t)})},Xo);function Xo(){return Ft(this,Xo),Ht(this,zo.apply(this,arguments))}qo.prototype.options_={children:[]},ue&&!(8<ue)||ee||ie||qo.prototype.options_.children.push("timeTooltip"),Ze.registerComponent("PlayProgressBar",qo);var Ko,Go=(Vt(Yo,Ko=Ze),Yo.prototype.createEl=function(){return Ko.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},Yo.prototype.update=function(n,i){var o=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var t=o.player_.duration(),e=jt(i*t,t);o.el_.style.left=n.width*i+"px",o.getChild("timeTooltip").update(n,i,e)})},Yo);function Yo(t,e){Ft(this,Yo);var n=Ht(this,Ko.call(this,t,e));return n.update=We(He(n,n.update),25),n}Go.prototype.options_={children:["timeTooltip"]},Ze.registerComponent("MouseTimeDisplay",Go);var $o,Jo=(Vt(Qo,$o=Oo),Qo.prototype.createEl=function(){return $o.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},Qo.prototype.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[jt(t,n),jt(n,n)],"{1} of {2}")),this.bar.update(A(this.el_),e)},Qo.prototype.update=function(t){var e=$o.prototype.update.call(this);return this.update_(this.getCurrentTime_(),e),e},Qo.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},Qo.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},Qo.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return 1<=t?1:t},Qo.prototype.handleMouseDown=function(t){R(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),$o.prototype.handleMouseDown.call(this,t))},Qo.prototype.handleMouseMove=function(t){if(R(t)){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)}},Qo.prototype.enable=function(){$o.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},Qo.prototype.disable=function(){$o.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},Qo.prototype.handleMouseUp=function(t){$o.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&it(this.player_.play())},Qo.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},Qo.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},Qo.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},Qo.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):$o.prototype.handleKeyPress&&$o.prototype.handleKeyPress.call(this,t)},Qo);function Qo(t,e){Ft(this,Qo);var n=Ht(this,$o.call(this,t,e));return n.update=We(He(n,n.update),30),n.on(t,"timeupdate",n.update),n.on(t,"ended",n.handleEnded),n.updateInterval=null,n.on(t,["playing"],function(){n.clearInterval(n.updateInterval),n.updateInterval=n.setInterval(function(){n.requestAnimationFrame(function(){n.update()})},30)}),n.on(t,["ended","pause","waiting"],function(){n.clearInterval(n.updateInterval)}),n.on(t,["timeupdate","ended"],n.update),n}Jo.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ue&&!(8<ue)||ee||ie||Jo.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Jo.prototype.playerEvent="timeupdate",Ze.registerComponent("SeekBar",Jo);var Zo,tr=(Vt(er,Zo=Ze),er.prototype.createEl=function(){return Zo.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},er.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("mouseTimeDisplay"),i=e.el(),o=A(i),r=P(i,t).x;1<r?r=1:r<0&&(r=0),n&&n.update(o,r)}},er.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},er.prototype.enabled=function(){return this.enabled_},er.prototype.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},er.prototype.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},er.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},er.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},er);function er(t,e){Ft(this,er);var n=Ht(this,Zo.call(this,t,e));return n.handleMouseMove=We(He(n,n.handleMouseMove),25),n.throttledHandleMouseSeek=We(He(n,n.handleMouseSeek),25),n.enable(),n}tr.prototype.options_={children:["seekBar"]},Ze.registerComponent("ProgressControl",tr);var nr,ir=(Vt(or,nr=ro),or.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+nr.prototype.buildCSSClass.call(this)},or.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},or.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},or);function or(t,e){Ft(this,or);var n=Ht(this,nr.call(this,t,e));return n.on(t,"fullscreenchange",n.handleFullscreenChange),n}ir.prototype.controlText_="Fullscreen",Ze.registerComponent("FullscreenToggle",ir);function rr(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})}var sr,ar=(Vt(lr,sr=Ze),lr.prototype.createEl=function(){return sr.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},lr);function lr(){return Ft(this,lr),Ht(this,sr.apply(this,arguments))}Ze.registerComponent("VolumeLevel",ar);var cr,hr=(Vt(dr,cr=Oo),dr.prototype.createEl=function(){return cr.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},dr.prototype.handleMouseDown=function(t){R(t)&&cr.prototype.handleMouseDown.call(this,t)},dr.prototype.handleMouseMove=function(t){R(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},dr.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},dr.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},dr.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},dr.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},dr.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},dr.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},dr.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},dr);function dr(t,e){Ft(this,dr);var n=Ht(this,cr.call(this,t,e));return n.on("slideractive",n.updateLastVolume_),n.on(t,"volumechange",n.updateARIAAttributes),t.ready(function(){return n.updateARIAAttributes()}),n}hr.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},hr.prototype.playerEvent="volumechange",Ze.registerComponent("VolumeBar",hr);var ur,pr=(Vt(fr,ur=Ze),fr.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),ur.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},fr.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},fr.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},fr.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},fr);function fr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ft(this,fr),e.vertical=e.vertical||!1,void 0!==e.volumeBar&&!r(e.volumeBar)||(e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=e.vertical);var n=Ht(this,ur.call(this,t,e));return rr(n,t),n.throttledHandleMouseMove=We(He(n,n.handleMouseMove),25),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}pr.prototype.options_={children:["volumeBar"]},Ze.registerComponent("VolumeControl",pr);var yr,vr=(Vt(gr,yr=ro),gr.prototype.buildCSSClass=function(){return"vjs-mute-control "+yr.prototype.buildCSSClass.call(this)},gr.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},gr.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},gr.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)g(this.el_,"vjs-vol-"+n);v(this.el_,"vjs-vol-"+e)},gr.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},gr);function gr(t,e){Ft(this,gr);var n=Ht(this,yr.call(this,t,e));return rr(n,t),n.on(t,["loadstart","volumechange"],n.update),n}vr.prototype.controlText_="Mute",Ze.registerComponent("MuteToggle",vr);var mr,_r=(Vt(br,mr=Ze),br.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},br.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},br.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),mr.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},br);function br(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ft(this,br),void 0!==e.inline?e.inline=e.inline:e.inline=!0,void 0!==e.volumeControl&&!r(e.volumeControl)||(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline);var n=Ht(this,mr.call(this,t,e));return rr(n,t),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}_r.prototype.options_={children:["muteToggle","volumeControl"]},Ze.registerComponent("VolumePanel",_r);var Tr,Cr=(Vt(kr,Tr=Ze),kr.prototype.addItem=function(e){this.addChild(e),e.on("click",He(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},kr.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=d(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var e=Tr.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),W(e,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),e},kr.prototype.dispose=function(){this.contentEl_=null,Tr.prototype.dispose.call(this)},kr.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},kr.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},kr.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},kr.prototype.focus=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),0<e.length&&(t<0?t=0:t>=e.length&&(t=e.length-1),e[this.focusedChild_=t].el_.focus())},kr);function kr(t,e){Ft(this,kr);var n=Ht(this,Tr.call(this,t,e));return e&&(n.menuButton_=e.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}Ze.registerComponent("Menu",Cr);var Er,wr=(Vt(Ar,Er=Ze),Ar.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},Ar.prototype.createMenu=function(){var t=new Cr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=d("li",{className:"vjs-menu-title",innerHTML:Y(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),f(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},Ar.prototype.createItems=function(){},Ar.prototype.createEl=function(){return Er.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},Ar.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+ro.prototype.buildCSSClass()+" "+Er.prototype.buildCSSClass.call(this)},Ar.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Er.prototype.buildCSSClass.call(this)},Ar.prototype.controlText=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},Ar.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",He(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},Ar.prototype.focus=function(){this.menuButton_.focus()},Ar.prototype.blur=function(){this.menuButton_.blur()},Ar.prototype.handleFocus=function(){W(Gt,"keydown",He(this,this.handleKeyPress))},Ar.prototype.handleBlur=function(){U(Gt,"keydown",He(this,this.handleKeyPress))},Ar.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},Ar.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},Ar.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ee&&e())return;this.menu.focus()}},Ar.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},Ar.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},Ar.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},Ar);function Ar(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ft(this,Ar);var n=Ht(this,Er.call(this,t,e));n.menuButton_=new ro(t,e),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var i=ro.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+i,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}Ze.registerComponent("MenuButton",wr);var Sr,Pr=(Vt(jr,Sr=wr),jr);function jr(t,e){Ft(this,jr);var n=e.tracks,i=Ht(this,Sr.call(this,t,e));if(i.items.length<=1&&i.hide(),!n)return Ht(i);var o=He(i,i.update);return n.addEventListener("removetrack",o),n.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",function(){n.removeEventListener("removetrack",o),n.removeEventListener("addtrack",o)}),i}Ze.registerComponent("TrackButton",Pr);var xr,Mr=(Vt(Lr,xr=Xi),Lr.prototype.createEl=function(t,e,n){return this.nonIconControl=!0,xr.prototype.createEl.call(this,"li",u({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},e),n)},Lr.prototype.handleClick=function(t){this.selected(!0)},Lr.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},Lr);function Lr(t,e){Ft(this,Lr);var n=Ht(this,xr.call(this,t,e));return n.selectable=e.selectable,n.isSelected_=e.selected||!1,n.selected(n.isSelected_),n.selectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitem"),n}Ze.registerComponent("MenuItem",Mr);var Dr,Rr=(Vt(Ir,Dr=Mr),Ir.prototype.handleClick=function(t){var e=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n||(n=[e]),Dr.prototype.handleClick.call(this,t),i)for(var o=0;o<i.length;o++){var r=i[o];r===this.track&&-1<n.indexOf(r.kind)?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled")}},Ir.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},Ir.prototype.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},Ir.prototype.dispose=function(){this.track=null,Dr.prototype.dispose.call(this)},Ir);function Ir(t,e){Ft(this,Ir);var n=e.track,i=t.textTracks();e.label=n.label||n.language||"Unknown",e.selected="showing"===n.mode;var o=Ht(this,Dr.call(this,t,e));o.track=n;function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(o,e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleSelectedLanguageChange.apply(o,e)}if(t.on(["loadstart","texttrackchange"],r),i.addEventListener("change",r),i.addEventListener("selectedlanguagechange",s),o.on("dispose",function(){t.off(["loadstart","texttrackchange"],r),i.removeEventListener("change",r),i.removeEventListener("selectedlanguagechange",s)}),void 0===i.onchange){var a=void 0;o.on(["tap","click"],function(){if("object"!==me(Rt.Event))try{a=new Rt.Event("change")}catch(t){}a||(a=Gt.createEvent("Event")).initEvent("change",!0,!0),i.dispatchEvent(a)})}return o.handleTracksChange(),o}Ze.registerComponent("TextTrackMenuItem",Rr);var Or,Nr=(Vt(Br,Or=Rr),Br.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,o=e.length;i<o;i++){var r=e[i];if(-1<this.options_.kinds.indexOf(r.kind)&&"showing"===r.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},Br.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,o=e.length;i<o;i++){var r=e[i];if(-1<["captions","descriptions","subtitles"].indexOf(r.kind)&&"showing"===r.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},Br);function Br(t,e){return Ft(this,Br),e.track={player:t,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.label?e.track.label=e.label:e.track.label=e.kinds.join(" and ")+" off",e.selectable=!0,Ht(this,Or.call(this,t,e))}Ze.registerComponent("OffTextTrackMenuItem",Nr);var Fr,Vr=(Vt(Hr,Fr=Pr),Hr.prototype.createItems=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Rr,n=void 0;this.label_&&(n=this.label_+" off"),t.push(new Nr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var o=0;o<i.length;o++){var r=i[o];if(-1<this.kinds_.indexOf(r.kind)){var s=new e(this.player_,{track:r,selectable:!0});s.addClass("vjs-"+r.kind+"-menu-item"),t.push(s)}}return t},Hr);function Hr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Ft(this,Hr),e.tracks=t.textTracks(),Ht(this,Fr.call(this,t,e))}Ze.registerComponent("TextTrackButton",Vr);var Wr,Ur=(Vt(zr,Wr=Mr),zr.prototype.handleClick=function(t){Wr.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},zr.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},zr);function zr(t,e){Ft(this,zr);var n=e.track,i=e.cue,o=t.currentTime();e.selectable=!0,e.label=i.text,e.selected=i.startTime<=o&&o<i.endTime;var r=Ht(this,Wr.call(this,t,e));return r.track=n,r.cue=i,n.addEventListener("cuechange",He(r,r.update)),r}Ze.registerComponent("ChaptersTrackMenuItem",Ur);var qr,Xr=(Vt(Kr,qr=Vr),Kr.prototype.buildCSSClass=function(){return"vjs-chapters-button "+qr.prototype.buildCSSClass.call(this)},Kr.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+qr.prototype.buildWrapperCSSClass.call(this)},Kr.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),qr.prototype.update.call(this)},Kr.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},Kr.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;0<=e;e--){var n=t[e];if(n.kind===this.kind_)return n}},Kr.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Y(this.kind_))},Kr.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),qr.prototype.createMenu.call(this)},Kr.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var o=e[n],r=new Ur(this.player_,{track:this.track_,cue:o});t.push(r)}return t},Kr);function Kr(t,e,n){return Ft(this,Kr),Ht(this,qr.call(this,t,e,n))}Xr.prototype.kind_="chapters",Xr.prototype.controlText_="Chapters",Ze.registerComponent("ChaptersButton",Xr);var Gr,Yr=(Vt($r,Gr=Vr),$r.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,o=e.length;i<o;i++){var r=e[i];if(r.kind!==this.kind_&&"showing"===r.mode){n=!0;break}}n?this.disable():this.enable()},$r.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+Gr.prototype.buildCSSClass.call(this)},$r.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+Gr.prototype.buildWrapperCSSClass.call(this)},$r);function $r(t,e,n){Ft(this,$r);var i=Ht(this,Gr.call(this,t,e,n)),o=t.textTracks(),r=He(i,i.handleTracksChange);return o.addEventListener("change",r),i.on("dispose",function(){o.removeEventListener("change",r)}),i}Yr.prototype.kind_="descriptions",Yr.prototype.controlText_="Descriptions",Ze.registerComponent("DescriptionsButton",Yr);var Jr,Qr=(Vt(Zr,Jr=Vr),Zr.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+Jr.prototype.buildCSSClass.call(this)},Zr.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+Jr.prototype.buildWrapperCSSClass.call(this)},Zr);function Zr(t,e,n){return Ft(this,Zr),Ht(this,Jr.call(this,t,e,n))}Qr.prototype.kind_="subtitles",Qr.prototype.controlText_="Subtitles",Ze.registerComponent("SubtitlesButton",Qr);var ts,es=(Vt(ns,ts=Rr),ns.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},ns);function ns(t,e){Ft(this,ns),e.track={player:t,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem";var n=Ht(this,ts.call(this,t,e));return n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+e.kind+" settings dialog"),n}Ze.registerComponent("CaptionSettingsMenuItem",es);var is,os=(Vt(rs,is=Vr),rs.prototype.buildCSSClass=function(){return"vjs-captions-button "+is.prototype.buildCSSClass.call(this)},rs.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+is.prototype.buildWrapperCSSClass.call(this)},rs.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new es(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),is.prototype.createItems.call(this,t)},rs);function rs(t,e,n){return Ft(this,rs),Ht(this,is.call(this,t,e,n))}os.prototype.kind_="captions",os.prototype.controlText_="Captions",Ze.registerComponent("CaptionsButton",os);var ss,as=(Vt(ls,ss=Rr),ls.prototype.createEl=function(t,e,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",ss.prototype.createEl.call(this,t,u({innerHTML:i},e),n)},ls);function ls(){return Ft(this,ls),Ht(this,ss.apply(this,arguments))}Ze.registerComponent("SubsCapsMenuItem",as);var cs,hs=(Vt(ds,cs=Vr),ds.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+cs.prototype.buildCSSClass.call(this)},ds.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+cs.prototype.buildWrapperCSSClass.call(this)},ds.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new es(this.player_,{kind:this.label_})),this.hideThreshold_+=1),cs.prototype.createItems.call(this,t,as)},ds);function ds(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ft(this,ds);var n=Ht(this,cs.call(this,t,e));return n.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)&&(n.label_="captions"),n.menuButton_.controlText(Y(n.label_)),n}hs.prototype.kinds_=["captions","subtitles"],hs.prototype.controlText_="Subtitles",Ze.registerComponent("SubsCapsButton",hs);var us,ps=(Vt(fs,us=Mr),fs.prototype.handleClick=function(t){var e=this.player_.audioTracks();us.prototype.handleClick.call(this,t);for(var n=0;n<e.length;n++){var i=e[n];i.enabled=i===this.track}},fs.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},fs);function fs(t,e){Ft(this,fs);var n=e.track,i=t.audioTracks();e.label=n.label||n.language||"Unknown",e.selected=n.enabled;var o=Ht(this,us.call(this,t,e));o.track=n;function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(o,e)}return i.addEventListener("change",r),o.on("dispose",function(){i.removeEventListener("change",r)}),o}Ze.registerComponent("AudioTrackMenuItem",ps);var ys,vs=(Vt(gs,ys=Pr),gs.prototype.buildCSSClass=function(){return"vjs-audio-button "+ys.prototype.buildCSSClass.call(this)},gs.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+ys.prototype.buildWrapperCSSClass.call(this)},gs.prototype.createItems=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new ps(this.player_,{track:i,selectable:!0}))}return t},gs);function gs(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Ft(this,gs),e.tracks=t.audioTracks(),Ht(this,ys.call(this,t,e))}vs.prototype.controlText_="Audio Track",Ze.registerComponent("AudioTrackButton",vs);var ms,_s=(Vt(bs,ms=Mr),bs.prototype.handleClick=function(t){ms.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},bs.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},bs);function bs(t,e){Ft(this,bs);var n=e.rate,i=parseFloat(n,10);e.label=n,e.selected=1===i,e.selectable=!0;var o=Ht(this,ms.call(this,t,e));return o.label=n,o.rate=i,o.on(t,"ratechange",o.update),o}_s.prototype.contentElType="button",Ze.registerComponent("PlaybackRateMenuItem",_s);var Ts,Cs=(Vt(ks,Ts=wr),ks.prototype.createEl=function(){var t=Ts.prototype.createEl.call(this);return this.labelEl_=d("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},ks.prototype.dispose=function(){this.labelEl_=null,Ts.prototype.dispose.call(this)},ks.prototype.buildCSSClass=function(){return"vjs-playback-rate "+Ts.prototype.buildCSSClass.call(this)},ks.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+Ts.prototype.buildWrapperCSSClass.call(this)},ks.prototype.createMenu=function(){var t=new Cr(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;0<=n;n--)t.addChild(new _s(this.player(),{rate:e[n]+"x"}));return t},ks.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},ks.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],o=0;o<n.length;o++)if(n[o]>e){i=n[o];break}this.player().playbackRate(i)},ks.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},ks.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},ks.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},ks.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},ks);function ks(t,e){Ft(this,ks);var n=Ht(this,Ts.call(this,t,e));return n.updateVisibility(),n.updateLabel(),n.on(t,"loadstart",n.updateVisibility),n.on(t,"ratechange",n.updateLabel),n}Cs.prototype.controlText_="Playback Rate",Ze.registerComponent("PlaybackRateMenuButton",Cs);var Es,ws=(Vt(As,Es=Ze),As.prototype.buildCSSClass=function(){return"vjs-spacer "+Es.prototype.buildCSSClass.call(this)},As.prototype.createEl=function(){return Es.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},As);function As(){return Ft(this,As),Ht(this,Es.apply(this,arguments))}Ze.registerComponent("Spacer",ws);var Ss,Ps=(Vt(js,Ss=ws),js.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+Ss.prototype.buildCSSClass.call(this)},js.prototype.createEl=function(){var t=Ss.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},js);function js(){return Ft(this,js),Ht(this,Ss.apply(this,arguments))}Ze.registerComponent("CustomControlSpacer",Ps);var xs,Ms=(Vt(Ls,xs=Ze),Ls.prototype.createEl=function(){return xs.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},Ls);function Ls(){return Ft(this,Ls),Ht(this,xs.apply(this,arguments))}Ms.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Ze.registerComponent("ControlBar",Ms);var Ds,Rs=(Vt(Is,Ds=yn),Is.prototype.buildCSSClass=function(){return"vjs-error-display "+Ds.prototype.buildCSSClass.call(this)},Is.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},Is);function Is(t,e){Ft(this,Is);var n=Ht(this,Ds.call(this,t,e));return n.on(t,"error",n.open),n}Rs.prototype.options_=$(yn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ze.registerComponent("ErrorDisplay",Rs);var Os=["#000","Black"],Ns=["#00F","Blue"],Bs=["#0FF","Cyan"],Fs=["#0F0","Green"],Vs=["#F0F","Magenta"],Hs=["#F00","Red"],Ws=["#FFF","White"],Us=["#FF0","Yellow"],zs=["1","Opaque"],qs=["0.5","Semi-Transparent"],Xs=["0","Transparent"],Ks={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Os,Ws,Hs,Fs,Ns,Us,Vs,Bs]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[zs,qs,Xs]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ws,Os,Hs,Fs,Ns,Us,Vs,Bs]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[zs,qs]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Xs,qs,zs]}};Ks.windowColor.options=Ks.backgroundColor.options;var Gs,Ys=(Vt($s,Gs=yn),$s.prototype.dispose=function(){this.endDialog=null,Gs.prototype.dispose.call(this)},$s.prototype.createElSelect_=function(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",o=Ks[t],r=o.id.replace("%s",this.id_);return["<"+e+' id="'+r+'" class="'+("label"===e?"vjs-label":"")+'">',this.localize(o.label),"</"+e+">",'<select aria-labelledby="'+(""!==i?i+" ":"")+r+'">'].concat(o.options.map(function(t){var e=r+"-"+t[1];return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+(""!==i?i+" ":"")+r+" "+e+'">',n.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},$s.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},$s.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},$s.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},$s.prototype.createElColors_=function(){return d("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},$s.prototype.createElFont_=function(){return d("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},$s.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return d("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},$s.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},$s.prototype.label=function(){return this.localize("Caption Settings Dialog")},$s.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},$s.prototype.buildCSSClass=function(){return Gs.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},$s.prototype.getValues=function(){var o=this;return function(n,i,t){var e=2<arguments.length&&void 0!==t?t:0;return be(n).reduce(function(t,e){return i(t,n[e],e)},e)}(Ks,function(t,e,n){var i=function(t,e){return xt(t.options[t.options.selectedIndex].value,e)}(o.$(e.selector),e.parser);return void 0!==i&&(t[n]=i),t},{})},$s.prototype.setValues=function(n){var i=this;o(Ks,function(t,e){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(xt(t.options[i].value,n)===e){t.selectedIndex=i;break}}(i.$(t.selector),n[e],t.parser)})},$s.prototype.setDefaults=function(){var n=this;o(Ks,function(t){var e=t.hasOwnProperty("default")?t.default:0;n.$(t.selector).selectedIndex=e})},$s.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(Rt.localStorage.getItem("vjs-text-track-settings"))}catch(t){Ee.warn(t)}t&&this.setValues(t)},$s.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?Rt.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):Rt.localStorage.removeItem("vjs-text-track-settings")}catch(t){Ee.warn(t)}}},$s.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},$s.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(Gt,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},$s);function $s(t,e){Ft(this,$s),e.temporary=!1;var n=Ht(this,Gs.call(this,t,e));return n.updateDisplay=He(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=d("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===e.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),o(Ks,function(t){n.on(n.$(t.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}Ze.registerComponent("TextTrackSettings",Ys);var Js,Qs=(Vt(Zs,Js=Ze),Zs.prototype.createEl=function(){return Js.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},Zs.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},Zs.prototype.dispose=function(){this.resizeObserver_&&(this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&U(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},Zs);function Zs(t,e){Ft(this,Zs);var n=e.ResizeObserver||Rt.ResizeObserver;null===e.ResizeObserver&&(n=!1);var i=$({createEl:!n},e),o=Ht(this,Js.call(this,t,i));return o.ResizeObserver=e.ResizeObserver||Rt.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=function(i,o,r){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Rt,a=void 0;return function(){var t=this,e=arguments,n=function(){n=a=null,r||i.apply(t,e)};!a&&r&&i.apply(t,e),s.clearTimeout(a),a=s.setTimeout(n,o)}}(function(){o.resizeHandler()},100,!1,t),n?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(t.el())):(o.loadListener_=function(){o.el_.contentWindow&&W(o.el_.contentWindow,"resize",o.debouncedHandler_),o.off("load",o.loadListener_)},o.on("load",o.loadListener_)),o}Ze.registerComponent("ResizeManager",Qs);var ta,ea=Wt(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),na=(Vt(ia,ta=Ri),ia.prototype.dispose=function(){ia.disposeMediaElement(this.el_),this.options_=null,ta.prototype.dispose.call(this)},ia.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){function t(){i=[];for(var t=0;t<n.length;t++){var e=n[t];"metadata"===e.kind&&i.push({track:e,storedMode:e.mode})}}var n=this.textTracks(),i=void 0;function o(){for(var t=0;t<i.length;t++){var e=i[t];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}n.removeEventListener("change",o)}t(),n.addEventListener("change",t),this.on("dispose",function(){return n.removeEventListener("change",t)}),this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",t),n.removeEventListener("change",o),n.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",t),n.addEventListener("change",t),n.removeEventListener("change",o)})},ia.prototype.proxyNativeTracks_=function(){var s=this;vi.names.forEach(function(t){var e=vi[t],o=s.el()[e.getterName],r=s[e.getterName]();if(s["featuresNative"+e.capitalName+"Tracks"]&&o&&o.addEventListener){function n(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,i=0;i<o.length;i++)if(o[i]===r[e]){n=!0;break}n||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())}var i={change:function(t){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}};Object.keys(i).forEach(function(e){var n=i[e];o.addEventListener(e,n),s.on("dispose",function(t){return o.removeEventListener(e,n)})}),s.on("loadstart",n),s.on("dispose",function(t){return s.off("loadstart",n)})}})},ia.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var e=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(e,t),ia.disposeMediaElement(t),t=e}else{t=Gt.createElement("video");var n=$({},this.options_.tag&&b(this.options_.tag));ye&&!0===this.options_.nativeControlsForTouch||delete n.controls,_(t,u(n,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&C(t,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var r=i[o],s=this.options_[r];void 0!==s&&(s?C(t,r,r):k(t,r),t[r]=s)}return t},ia.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){function e(){n=!0}var n=!1;function i(){n||this.trigger("loadstart")}return this.on("loadstart",e),this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",e),this.off("loadedmetadata",i),n||this.trigger("loadstart")})}var o=["loadstart"];o.push("loadedmetadata"),2<=t.readyState&&o.push("loadeddata"),3<=t.readyState&&o.push("canplay"),4<=t.readyState&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(t){this.trigger(t)},this)})}},ia.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){Ee(t,"Video is not ready. (Video.js)")}},ia.prototype.duration=function(){var e=this;return this.el_.duration===1/0&&ie&&ce&&0===this.el_.currentTime?(this.on("timeupdate",function t(){0<e.el_.currentTime&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN):this.el_.duration||NaN},ia.prototype.width=function(){return this.el_.offsetWidth},ia.prototype.height=function(){return this.el_.offsetHeight},ia.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){function e(){this.trigger("fullscreenchange",{isFullscreen:!1})}function n(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))}this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},ia.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=Rt.navigator&&Rt.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},ia.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},ia.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},ia.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},ia.prototype.reset=function(){ia.resetMediaElement(this.el_)},ia.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},ia.prototype.setControls=function(t){this.el_.controls=!!t},ia.prototype.addTextTrack=function(t,e,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,n):ta.prototype.addTextTrack.call(this,t,e,n)},ia.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return ta.prototype.createRemoteTextTrack.call(this,t);var e=Gt.createElement("track");return t.kind&&(e.kind=t.kind),t.label&&(e.label=t.label),(t.language||t.srclang)&&(e.srclang=t.language||t.srclang),t.default&&(e.default=t.default),t.id&&(e.id=t.id),t.src&&(e.src=t.src),e},ia.prototype.addRemoteTextTrack=function(t,e){var n=ta.prototype.addRemoteTextTrack.call(this,t,e);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},ia.prototype.removeRemoteTextTrack=function(t){if(ta.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),n=e.length;n--;)t!==e[n]&&t!==e[n].track||this.el().removeChild(e[n])},ia.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),Rt.performance&&"function"==typeof Rt.performance.now?t.creationTime=Rt.performance.now():Rt.performance&&Rt.performance.timing&&"number"==typeof Rt.performance.timing.navigationStart&&(t.creationTime=Rt.Date.now()-Rt.performance.timing.navigationStart),t},ia);function ia(t,e){Ft(this,ia);var n=Ht(this,ta.call(this,t,e)),i=t.source,o=!1;if(i&&(n.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(i):n.handleLateInit_(n.el_),n.el_.hasChildNodes()){for(var r=n.el_.childNodes,s=r.length,a=[];s--;){var l=r[s];"track"===l.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(l),n.remoteTextTracks().addTrack(l.track),n.textTracks().addTrack(l.track),o||n.el_.hasAttribute("crossorigin")||!wn(l.src)||(o=!0)):a.push(l))}for(var c=0;c<a.length;c++)n.el_.removeChild(a[c])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&Ee.warn(we(ea)),n.restoreMetadataTracksInIOSNativePlayer_(),(ye||Zt||se)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}if(p()){na.TEST_VID=Gt.createElement("video");var oa=Gt.createElement("track");oa.kind="captions",oa.srclang="en",oa.label="English",na.TEST_VID.appendChild(oa)}na.isSupported=function(){try{na.TEST_VID.volume=.5}catch(t){return!1}return!(!na.TEST_VID||!na.TEST_VID.canPlayType)},na.canPlayType=function(t){return na.TEST_VID.canPlayType(t)},na.canPlaySource=function(t,e){return na.canPlayType(t.type)},na.canControlVolume=function(){try{var t=na.TEST_VID.volume;return na.TEST_VID.volume=t/2+.1,t!==na.TEST_VID.volume}catch(t){return!1}},na.canControlPlaybackRate=function(){if(ie&&ce&&he<58)return!1;try{var t=na.TEST_VID.playbackRate;return na.TEST_VID.playbackRate=t/2+.1,t!==na.TEST_VID.playbackRate}catch(t){return!1}},na.supportsNativeTextTracks=function(){return fe},na.supportsNativeVideoTracks=function(){return!(!na.TEST_VID||!na.TEST_VID.videoTracks)},na.supportsNativeAudioTracks=function(){return!(!na.TEST_VID||!na.TEST_VID.audioTracks)},na.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],na.prototype.featuresVolumeControl=na.canControlVolume(),na.prototype.featuresPlaybackRate=na.canControlPlaybackRate(),na.prototype.movingMediaElementInDOM=!ee,na.prototype.featuresFullscreenResize=!0,na.prototype.featuresProgressEvents=!0,na.prototype.featuresTimeupdateEvents=!0,na.prototype.featuresNativeTextTracks=na.supportsNativeTextTracks(),na.prototype.featuresNativeVideoTracks=na.supportsNativeVideoTracks(),na.prototype.featuresNativeAudioTracks=na.supportsNativeAudioTracks();var ra=na.TEST_VID&&na.TEST_VID.constructor.prototype.canPlayType,sa=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,aa=/^video\/mp4/i;na.patchCanPlayType=function(){4<=oe&&!ae&&!ce?na.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&sa.test(t)?"maybe":ra.call(this,t)}:re&&(na.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&aa.test(t)?"maybe":ra.call(this,t)})},na.unpatchCanPlayType=function(){var t=na.TEST_VID.constructor.prototype.canPlayType;return na.TEST_VID.constructor.prototype.canPlayType=ra,t},na.patchCanPlayType(),na.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},na.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){na.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){na.prototype["set"+Y(e)]=function(t){(this.el_[e]=t)?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){na.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){na.prototype["set"+Y(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(t){na.prototype[t]=function(){return this.el_[t]()}}),Ri.withSourceHandlers(na),na.nativeSourceHandler={},na.nativeSourceHandler.canPlayType=function(t){try{return na.TEST_VID.canPlayType(t)}catch(t){return""}},na.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return na.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=En(t.src);return na.nativeSourceHandler.canPlayType("video/"+n)}return""},na.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},na.nativeSourceHandler.dispose=function(){},na.registerSourceHandler(na.nativeSourceHandler),Ri.registerTech("Html5",na);var la,ca=Wt(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),ha=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"],da=(Vt(ua,la=Ze),ua.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),ua.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(t){Bi[t.id()]=null}(this),la.prototype.dispose.call(this)},ua.prototype.createEl=function(){var e=this.tag,n=void 0,t=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();t?n=this.el_=e.parentNode:i||(n=this.el_=la.prototype.createEl.call(this,"div"));var o=b(e);if(i){for(n=this.el_=e,e=this.tag=Gt.createElement("video");n.children.length;)e.appendChild(n.firstChild);y(n,"video-js")||v(n,"video-js"),n.appendChild(e),t=this.playerElIngest_=n}if(e.setAttribute("tabindex","-1"),e.removeAttribute("width"),e.removeAttribute("height"),Object.getOwnPropertyNames(o).forEach(function(t){"class"===t?(n.className+=" "+o[t],i&&(e.className+=" "+o[t])):(n.setAttribute(t,o[t]),i&&e.setAttribute(t,o[t]))}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused"),!0!==Rt.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Fe("vjs-styles-dimensions");var r=Se(".vjs-styles-defaults"),s=Se("head");s.insertBefore(this.styleEl_,r?r.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=e.getElementsByTagName("a"),l=0;l<a.length;l++){var c=a.item(l);v(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!t&&e.parentNode.insertBefore(n,e),f(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=n},ua.prototype.width=function(t){return this.dimension("width",t)},ua.prototype.height=function(t){return this.dimension("height",t)},ua.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?Ee.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},ua.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},ua.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},ua.prototype.updateStyleEl_=function(){if(!0!==Rt.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=i[1]/i[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Ve(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var r="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(0<=r&&(a.width=r),0<=s&&(a.height=s))}},ua.prototype.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=Y(t),o=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(Ri.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var r={source:e,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]};mi.names.forEach(function(t){var e=mi[t];r[e.getterName]=n[e.privateName]}),u(r,this.options_[i]),u(r,this.options_[o]),u(r,this.options_[t.toLowerCase()]),this.tag&&(r.tag=this.tag),e&&e.src===this.cache_.src&&0<this.cache_.currentTime&&(r.startTime=this.cache_.currentTime);var s=Ri.getTech(t);if(!s)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new s(r),this.tech_.ready(He(this,this.handleTechReady_),!0),pn(this.textTracksJson_||[],this.tech_),ha.forEach(function(t){n.on(n.tech_,t,n["handleTech"+Y(t)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||f(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},ua.prototype.unloadTech_=function(){var n=this;mi.names.forEach(function(t){var e=mi[t];n[e.privateName]=n[e.getterName]()}),this.textTracksJson_=un(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},ua.prototype.tech=function(t){return void 0===t&&Ee.warn(we(ca)),this.tech_},ua.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},ua.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},ua.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(t){Ee("deleting tag.poster throws in some browsers",t)}},ua.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},ua.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},ua.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},ua.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},ua.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},ua.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},ua.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},ua.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},ua.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},ua.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(Ee.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},ua.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},ua.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},ua.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},ua.prototype.handleTechClick_=function(t){R(t)&&this.controls_&&(this.paused()?this.play():this.pause())},ua.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},ua.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},ua.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},ua.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},ua.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},ua.prototype.handleStageClick_=function(){this.reportUserActivity()},ua.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},ua.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},ua.prototype.handleTechTextData_=function(){var t=null;1<arguments.length&&(t=arguments[1]),this.trigger("textdata",t)},ua.prototype.getCache=function(){return this.cache_},ua.prototype.techCall_=function(t,e){this.ready(function(){if(t in Hi)return function(t,e,n,i){return e[n](t.reduce(wt(n),i))}(this.middleware_,this.tech_,t,e);if(t in Wi)return Et(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw Ee(t),t}},!0)},ua.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Vi)return function(t,e,n){return t.reduceRight(wt(n),e[n]())}(this.middleware_,this.tech_,e);if(e in Wi)return Et(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Ee("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Ee("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Ee(t),t}}},ua.prototype.play=function(){var t=this;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.playOnLoadstart_=function(){t.playOnLoadstart_=null,it(t.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){t.playWaitingForReady_=!1,it(t.play())})}},ua.prototype.pause=function(){this.techCall_("pause")},ua.prototype.paused=function(){return!1!==this.techGet_("paused")},ua.prototype.played=function(){return this.techGet_("played")||Z(0,0)},ua.prototype.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},ua.prototype.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},ua.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&((this.cache_.duration=t)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},ua.prototype.remainingTime=function(){return this.duration()-this.currentTime()},ua.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},ua.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Z(0,0)),t},ua.prototype.bufferedPercent=function(){return tt(this.buffered(),this.duration())},ua.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return e<n&&(n=e),n},ua.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(0<e&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},ua.prototype.muted=function(t){return void 0!==t?void this.techCall_("setMuted",t):this.techGet_("muted")||!1},ua.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},ua.prototype.lastVolume_=function(t){return void 0!==t&&0!==t?void(this.cache_.lastVolume=t):this.cache_.lastVolume},ua.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},ua.prototype.isFullscreen=function(t){return void 0!==t?void(this.isFullscreen_=!!t):!!this.isFullscreen_},ua.prototype.requestFullscreen=function(){var n=en;this.isFullscreen(!0),n.requestFullscreen?(W(Gt,n.fullscreenchange,He(this,function t(e){this.isFullscreen(Gt[n.fullscreenElement]),!1===this.isFullscreen()&&U(Gt,n.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},ua.prototype.exitFullscreen=function(){var t=en;this.isFullscreen(!1),t.requestFullscreen?Gt[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},ua.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=Gt.documentElement.style.overflow,W(Gt,"keydown",He(this,this.fullWindowOnEscKey)),Gt.documentElement.style.overflow="hidden",v(Gt.body,"vjs-full-window"),this.trigger("enterFullWindow")},ua.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},ua.prototype.exitFullWindow=function(){this.isFullWindow=!1,U(Gt,"keydown",this.fullWindowOnEscKey),Gt.documentElement.style.overflow=this.docOrigOverflow,g(Gt.body,"vjs-full-window"),this.trigger("exitFullWindow")},ua.prototype.canPlayType=function(t){for(var e=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],r=Ri.getTech(o);if(r||(r=Ze.getComponent(o)),r){if(r.isSupported()&&(e=r.canPlayType(t)))return e}else Ee.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},ua.prototype.selectSource=function(t){function e(t,n,i){var o=void 0;return t.some(function(e){return n.some(function(t){if(o=i(e,t))return!0})}),o}function n(t,e){var n=t[0];if(t[1].canPlaySource(e,o.options_[n.toLowerCase()]))return{source:e,tech:n}}var i,o=this,r=this.options_.techOrder.map(function(t){return[t,Ri.getTech(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(Ee.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)});return(this.options_.sourceOrder?e(t,r,(i=n,function(t,e){return i(e,t)})):e(r,t,n))||!1},ua.prototype.src=function(t){var n=this;if(void 0===t)return this.cache_.src||"";var i=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):s(t)&&n.push(t)}),t=n}else t="string"==typeof t&&t.trim()?[{src:t}]:s(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[t]:[];return t}(t);i.length?(this.cache_.sources=i,this.changingSrc_=!0,this.cache_.source=i[0],kt(this,i[0],function(t,e){if(n.middleware_=e,n.src_(t))return 1<i.length?n.src(i.slice(1)):(n.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void n.triggerReady());n.changingSrc_=!1,n.cache_.src=t.src,function(t,e){t.forEach(function(t){return t.setTech&&t.setTech(e)})}(e,n.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},ua.prototype.src_=function(t){var e=this.selectSource([t]);return!e||(function(t,e){return Y(t)===Y(e)}(e.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),"auto"===this.options_.preload&&this.load()},!0):(this.changingSrc_=!0,this.loadTech_(e.tech,e.source)),!1)},ua.prototype.load=function(){this.techCall_("load")},ua.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},ua.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},ua.prototype.currentSource=function(){return this.cache_.source||{}},ua.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},ua.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},ua.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},ua.prototype.autoplay=function(t){return void 0!==t?(this.techCall_("setAutoplay",t),this.options_.autoplay=t,void this.ready(this.forceAutoplayInChrome_)):this.techGet_("autoplay",t)},ua.prototype.forceAutoplayInChrome_=function(){this.paused()&&(this.autoplay()||this.options_.autoplay)&&ce&&!ie&&this.play()},ua.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},ua.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},ua.prototype.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),this.poster_=t,this.techCall_("setPoster",t),this.trigger("posterchange")},ua.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},ua.prototype.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},ua.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},ua.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new et(t),this.addClass("vjs-error"),Ee.error("(CODE:"+this.error_.code+" "+et.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},ua.prototype.reportUserActivity=function(t){this.userActivity_=!0},ua.prototype.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},ua.prototype.listenForUserActivity_=function(){var e=void 0,n=void 0,i=void 0,o=He(this,this.reportUserActivity);this.on("mousedown",function(){o(),this.clearInterval(e),e=this.setInterval(o,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,o())}),this.on("mouseup",function(t){o(),this.clearInterval(e)}),this.on("keydown",o),this.on("keyup",o);var r=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var t=this.options_.inactivityTimeout;t<=0||(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},ua.prototype.playbackRate=function(t){return void 0!==t?void this.techCall_("setPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},ua.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},ua.prototype.isAudio=function(t){return void 0!==t?void(this.isAudio_=!!t):!!this.isAudio_},ua.prototype.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},ua.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},ua.prototype.removeRemoteTextTrack=function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track,e=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(e)},ua.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},ua.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},ua.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},ua.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},ua.prototype.languages=function(){return $(ua.prototype.options_.languages,this.languages_)},ua.prototype.toJSON=function(){var t=$(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=$(i)).player=void 0,t.tracks[n]=i}return t},ua.prototype.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new yn(this,e);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},ua.getTagSettings=function(t){var e={sources:[],tracks:[]},n=b(t),i=n["data-setup"];if(y(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=dn(i||"{}"),r=o[0],s=o[1];r&&Ee.error(r),u(n,s)}if(u(e,n),t.hasChildNodes())for(var a=t.childNodes,l=0,c=a.length;l<c;l++){var h=a[l],d=h.nodeName.toLowerCase();"source"===d?e.sources.push(b(h)):"track"===d&&e.tracks.push(b(h))}return e},ua.prototype.flexNotSupported_=function(){var t=Gt.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},ua);function ua(t,e,n){if(Ft(this,ua),t.id=t.id||"vjs_video_"+I(),(e=u(ua.getTagSettings(t),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof t.closest){var i=t.closest("[lang]");i&&i.getAttribute&&(e.language=i.getAttribute("lang"))}else for(var o=t;o&&1===o.nodeType;){if(b(o).hasOwnProperty("lang")){e.language=o.getAttribute("lang");break}o=o.parentNode}var r=Ht(this,la.call(this,null,e,n));if(r.isReady_=!1,r.hasStarted_=!1,r.userActive_=!1,!r.options_||!r.options_.techOrder||!r.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(r.tag=t,r.tagAttributes=t&&b(t),r.language(r.options_.language),e.languages){var s={};Object.getOwnPropertyNames(e.languages).forEach(function(t){s[t.toLowerCase()]=e.languages[t]}),r.languages_=s}else r.languages_=ua.prototype.options_.languages;r.cache_={},r.poster_=e.poster||"",r.controls_=!!e.controls,r.cache_.lastVolume=1,t.controls=!1,t.removeAttribute("controls"),r.scrubbing_=!1,r.el_=r.createEl(),K(r,{eventBusKey:"el_"});var a=$(r.options_);if(e.plugins){var l=e.plugins;Object.keys(l).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](l[t])},r)}r.options_.playerOptions=a,r.middleware_=[],r.initChildren(),r.isAudio("audio"===t.nodeName.toLowerCase()),r.controls()?r.addClass("vjs-controls-enabled"):r.addClass("vjs-controls-disabled"),r.el_.setAttribute("role","region"),r.isAudio()?r.el_.setAttribute("aria-label",r.localize("Audio Player")):r.el_.setAttribute("aria-label",r.localize("Video Player")),r.isAudio()&&r.addClass("vjs-audio"),r.flexNotSupported_()&&r.addClass("vjs-no-flex"),ee||r.addClass("vjs-workinghover"),ua.players[r.id_]=r;var c="6.7.4".split(".")[0];return r.addClass("vjs-v"+c),r.userActive(!0),r.reportUserActivity(),r.listenForUserActivity_(),r.on("fullscreenchange",r.handleFullscreenChange_),r.on("stageclick",r.handleStageClick_),r.changingSrc_=!1,r.playWaitingForReady_=!1,r.playOnLoadstart_=null,r.forceAutoplayInChrome_(),r}mi.names.forEach(function(t){var e=mi[t];da.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),da.players={};var pa=Rt.navigator;da.prototype.options_={techOrder:Ri.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:pa&&(pa.languages&&pa.languages[0]||pa.userLanguage||pa.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},de||da.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(t){da.prototype[t]=function(){return this.techGet_(t)}}),ha.forEach(function(t){da.prototype["handleTech"+Y(t)+"_"]=function(){return this.trigger(t)}}),Ze.registerComponent("Player",da);function fa(t){return _a.hasOwnProperty(t)}function ya(t){return fa(t)?_a[t]:void 0}function va(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0}function ga(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)}function ma(o,r){return r.prototype.name=o,function(){ga(this,{name:o,plugin:r,instance:null},!0);for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=new(Function.prototype.bind.apply(r,[null].concat([this].concat(e))));return this[o]=function(){return i},ga(this,i.getEventHash()),i}}var _a={},ba=(Ta.prototype.version=function(){return this.constructor.VERSION},Ta.prototype.getEventHash=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},Ta.prototype.trigger=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return z(this.eventBusEl_,t,this.getEventHash(e))},Ta.prototype.handleStateChanged=function(t){},Ta.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=ma(t,_a[t])},Ta.isBasic=function(t){var e="string"==typeof t?ya(t):t;return"function"==typeof e&&!Ta.prototype.isPrototypeOf(e.prototype)},Ta.registerPlugin=function(t,e){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":me(t))+".");if(fa(t))Ee.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(da.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===e?"undefined":me(e))+".");return _a[t]=e,"plugin"!==t&&(Ta.isBasic(e)?da.prototype[t]=function(e,n){function i(){ga(this,{name:e,plugin:n,instance:null},!0);var t=n.apply(this,arguments);return va(this,e),ga(this,{name:e,plugin:n,instance:t}),t}return Object.keys(n).forEach(function(t){i[t]=n[t]}),i}(t,e):da.prototype[t]=ma(t,e)),e},Ta.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");fa(t)&&(delete _a[t],delete da.prototype[t])},Ta.getPlugins=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(_a),n=void 0;return t.forEach(function(t){var e=ya(t);e&&((n=n||{})[t]=e)}),n},Ta.getPluginVersion=function(t){var e=ya(t);return e&&e.VERSION||""},Ta);function Ta(t){if(Ft(this,Ta),this.constructor===Ta)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,K(this),delete this.trigger,G(this,this.constructor.defaultState),va(t,this.name),this.dispose=He(this,this.dispose),t.on("dispose",this.dispose)}ba.getPlugin=ya,ba.BASE_PLUGIN_NAME="plugin",ba.registerPlugin("plugin",ba),da.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},da.prototype.hasPlugin=function(t){return!!fa(t)};"undefined"==typeof HTMLVideoElement&&p()&&(Gt.createElement("video"),Gt.createElement("audio"),Gt.createElement("track"),Gt.createElement("video-js"));var Ca=function(t){return 0===t.indexOf("#")?t.slice(1):t};if(Mt.hooks_={},Mt.hooks=function(t,e){return Mt.hooks_[t]=Mt.hooks_[t]||[],e&&(Mt.hooks_[t]=Mt.hooks_[t].concat(e)),Mt.hooks_[t]},Mt.hook=function(t,e){Mt.hooks(t,e)},Mt.hookOnce=function(n,t){Mt.hooks(n,[].concat(t).map(function(e){return function t(){return Mt.removeHook(n,t),e.apply(void 0,arguments)}}))},Mt.removeHook=function(t,e){var n=Mt.hooks(t).indexOf(e);return!(n<=-1||(Mt.hooks_[t]=Mt.hooks_[t].slice(),Mt.hooks_[t].splice(n,1),0))},!0!==Rt.VIDEOJS_NO_DYNAMIC_STYLE&&p()){var ka=Se(".vjs-styles-defaults");if(!ka){ka=Fe("vjs-styles-defaults");var Ea=Se("head");Ea&&Ea.insertBefore(ka,Ea.firstChild),Ve(ka,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return X(1,Mt),Mt.VERSION="6.7.4",Mt.options=da.prototype.options_,Mt.getPlayers=function(){return da.players},Mt.getPlayer=function(t){var e=da.players,n=void 0;if("string"==typeof t){var i=Ca(t),o=e[i];if(o)return o;n=Se("#"+i)}else n=t;if(l(n)){var r=n,s=r.player,a=r.playerId;if(s||e[a])return s||e[a]}},Mt.getAllPlayers=function(){return Object.keys(da.players).map(function(t){return da.players[t]}).filter(Boolean)},Mt.players=da.players,Mt.getComponent=Ze.getComponent,Mt.registerComponent=function(t,e){Ri.isTech(e)&&Ee.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ze.registerComponent.call(Ze,t,e)},Mt.getTech=Ri.getTech,Mt.registerTech=Ri.registerTech,Mt.use=function(t,e){Ni[t]=Ni[t]||[],Ni[t].push(e)},!de&&Object.defineProperty?(Object.defineProperty(Mt,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Mt.middleware,"TERMINATOR",{value:Fi,writeable:!1,enumerable:!0})):Mt.middleware={TERMINATOR:Fi},Mt.browser=ge,Mt.TOUCH_ENABLED=ye,Mt.extend=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=function(){t.apply(this,arguments)},i={};for(var o in"object"===(void 0===e?"undefined":me(e))?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":me(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)}(n,t),i)i.hasOwnProperty(o)&&(n.prototype[o]=i[o]);return n},Mt.mergeOptions=$,Mt.bind=He,Mt.registerPlugin=ba.registerPlugin,Mt.plugin=function(t,e){return Ee.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ba.registerPlugin(t,e)},Mt.getPlugins=ba.getPlugins,Mt.getPlugin=ba.getPlugin,Mt.getPluginVersion=ba.getPluginVersion,Mt.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Mt.options.languages=$(Mt.options.languages,((n={})[t]=e,n)),Mt.options.languages[t]},Mt.log=Ee,Mt.createTimeRange=Mt.createTimeRanges=Z,Mt.formatTime=jt,Mt.parseUrl=kn,Mt.isCrossOrigin=wn,Mt.EventTarget=Ue,Mt.on=W,Mt.one=q,Mt.off=U,Mt.trigger=z,Mt.xhr=$n,Mt.TextTrack=ri,Mt.AudioTrack=hi,Mt.VideoTrack=di,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Mt[t]=function(){return Ee.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),je[t].apply(null,arguments)}}),Mt.computedStyle=i,Mt.dom=je,Mt.url=Vn,Mt}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):t.videojsContribAds=e(t.videojs)}(this,function(d){"use strict";d=d&&d.hasOwnProperty("default")?d.default:d;function i(t,e){e.isImmediatePropagationStopped=function(){return!0},e.cancelBubble=!0,e.isPropagationStopped=function(){return!0}}function o(t,e,n){i(0,n),t.trigger({type:e+n.type,originalEvent:n})}function s(t){"playing"===t.type?function(t,e){t.ads.isInAdMode()&&(t.ads.isContentResuming()?t.ads._contentEnding&&o(t,"content",e):t.ads._cancelledPlay?i(0,e):o(t,"ad",e))}(this,t):"ended"===t.type?function(t,e){if(t.ads.isInAdMode()){if(t.ads.isContentResuming())return;o(t,"ad",e)}else t.ads._contentHasEnded||o(t,"content",e)}(this,t):"loadstart"===t.type||"loadeddata"===t.type||"loadedmetadata"===t.type?function(t,e){if(!("loadstart"===e.type&&!t.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===e.type&&!t.ads._hasThereBeenALoadedData||"loadedmetadata"===e.type&&!t.ads._hasThereBeenALoadedMetaData))if(t.ads.inAdBreak())o(t,"ad",e);else{if(t.currentSrc()!==t.ads.contentSrc)return;o(t,"content",e)}}(this,t):"play"===t.type?function(t,e){var n=t.ads._cancelledPlay&&!t.ads.isInAdMode();t.ads.inAdBreak()?o(t,"ad",e):(t.ads.isContentResuming()||n)&&o(t,"content",e)}(this,t):this.ads.isInAdMode()&&(this.ads.isContentResuming()?o(this,"content",t):o(this,"ad",t))}var t,e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n={},r=(Object.freeze||Object)({default:n}),a=r&&n||r,c=void 0!==e?e:"undefined"!=typeof window?window:{};"undefined"!=typeof document?t=document:(t=c["__GLOBAL_DOCUMENT_CACHE@4"])||(t=c["__GLOBAL_DOCUMENT_CACHE@4"]=a);function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){return e?encodeURIComponent(t):t}function f(t,e,n){if(t&&t[n])for(var i=t[n],o=Object.keys(i),r=0;r<o.length;r++)e["{mediainfo."+n+"."+o[r]+"}"]=i[o[r]]}var y,v,g=t,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=("function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator,function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),b={processMetadataTracks:function(e,n){for(var t=e.textTracks(),i=function(t){"metadata"===t.kind&&(e.ads.cueTextTracks.setMetadataTrackMode(t),n(e,t))},o=0;o<t.length;o++)i(t[o]);t.addEventListener("addtrack",function(t){i(t.track)})},setMetadataTrackMode:function(t){},getSupportedAdCue:function(t,e){return e},isSupportedAdCue:function(t,e){return!0},getCueId:function(t,e){return e.id},processAdTrack:function(t,e,n,i){t.ads.includedCues={};for(var o=0;o<e.length;o++){var r=e[o],s=this.getSupportedAdCue(t,r);if(!this.isSupportedAdCue(t,r))return void d.log.warn("Skipping as this is not a supported ad cue.",r);var a=this.getCueId(t,r),l=r.startTime;if(void 0!==(h=a)&&t.ads.includedCues[h])return void d.log("Skipping ad already seen with ID "+a);i&&i(t,s,a,l),n(t,s,a,l),void 0!==(c=a)&&""!==c&&(t.ads.includedCues[c]=!0)}var c,h}},T=(A.prototype.transitionTo=function(t){var e=this.player;this.cleanup();var n=new t(e);e.ads._state=n,e.ads.debug(this.constructor.name+" -> "+n.constructor.name);for(var i=arguments.length,o=Array(1<i?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];n.init.apply(n,[e].concat(o))},A.prototype.init=function(){},A.prototype.cleanup=function(){},A.prototype.onPlay=function(){},A.prototype.onPlaying=function(){},A.prototype.onEnded=function(){},A.prototype.onAdsReady=function(){d.log.warn("Unexpected adsready event")},A.prototype.onAdsError=function(){},A.prototype.onAdsCanceled=function(){},A.prototype.onAdTimeout=function(){},A.prototype.onAdStarted=function(){},A.prototype.onContentChanged=function(){},A.prototype.onContentResumed=function(){},A.prototype.onContentEnded=function(){d.log.warn("Unexpected contentended event")},A.prototype.onNoPreroll=function(){},A.prototype.onNoPostroll=function(){},A.prototype.startLinearAdMode=function(){d.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor.name+")")},A.prototype.endLinearAdMode=function(){d.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor.name+")")},A.prototype.skipLinearAdMode=function(){d.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor.name+")")},A.prototype.isAdState=function(){throw new Error("isAdState unimplemented for "+this.constructor.name)},A.prototype.isContentResuming=function(){return!1},A.prototype.inAdBreak=function(){return!1},A.prototype.handleEvent=function(t){var e=this.player;"play"===t?this.onPlay(e):"adsready"===t?this.onAdsReady(e):"adserror"===t?this.onAdsError(e):"adscanceled"===t?this.onAdsCanceled(e):"adtimeout"===t?this.onAdTimeout(e):"ads-ad-started"===t?this.onAdStarted(e):"contentchanged"===t?this.onContentChanged(e):"contentresumed"===t?this.onContentResumed(e):"contentended"===t?this.onContentEnded(e):"playing"===t?this.onPlaying(e):"ended"===t?this.onEnded(e):"nopreroll"===t?this.onNoPreroll(e):"nopostroll"===t&&this.onNoPostroll(e)},A),C=(h(w,v=T),w.prototype.isAdState=function(){return!0},w.prototype.onPlaying=function(){this.contentResuming&&this.transitionTo(H)},w.prototype.onContentResumed=function(){this.contentResuming&&this.transitionTo(H)},w.prototype.isContentResuming=function(){return this.contentResuming},w.prototype.inAdBreak=function(){return!0===this.player.ads._inLinearAdMode},w),k=(h(E,y=T),E.prototype.isAdState=function(){return!1},E.prototype.onContentChanged=function(t){t.ads.debug("Received contentchanged event (ContentState)"),t.paused()?this.transitionTo(V):(this.transitionTo(N,!1),t.pause(),t.ads._pausedOnContentupdate=!0)},E);function E(){return _(this,E),u(this,y.apply(this,arguments))}function w(t){_(this,w);var e=u(this,v.call(this,t));return e.contentResuming=!1,e}function A(t){_(this,A),this.player=t}function S(t){t.ads.cancelPlayTimeout||(t.ads.cancelPlayTimeout=t.setTimeout(function(){t.ads.cancelPlayTimeout=null,t.ads.isInAdMode()&&(t.paused()||t.pause(),t.ads._cancelledPlay=!0)},1))}function P(t){var e,i=this,n=d.mergeOptions(z,t),o=U.concat(["firstplay","loadedalldata","playing"]);function r(){var t=i.textTracks();if(!i.ads.shouldPlayContentBehindAd(i)&&i.ads.inAdBreak()&&i.tech_.featuresNativeTextTracks&&d.browser.IS_IOS&&!Array.isArray(i.textTracks()))for(var e=0;e<t.length;e++){var n=t[e];"showing"===n.mode&&(n.mode="disabled")}}i.on(o,s),i.setTimeout(function(){i.ads._hasThereBeenALoadStartDuringPlayerLife||""===i.src()||d.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see https://github.com/videojs/videojs-contrib-ads#important-note-about-initialization")},5e3),i.on("ended",function(){i.hasClass("vjs-has-started")||i.addClass("vjs-has-started")}),i.on(["addurationchange","adcanplay"],function(){i.ads.snapshot&&i.currentSrc()===i.ads.snapshot.currentSrc||i.ads.inAdBreak()&&i.play()}),i.on("nopreroll",function(){i.ads.debug("Received nopreroll event"),i.ads.nopreroll_=!0}),i.on("nopostroll",function(){i.ads.debug("Received nopostroll event"),i.ads.nopostroll_=!0}),i.on("playing",function(){i.ads._cancelledPlay=!1,i.ads._pausedOnContentupdate=!1}),i.one("loadstart",function(){i.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),i.on("loadeddata",function(){i.ads._hasThereBeenALoadedData=!0}),i.on("loadedmetadata",function(){i.ads._hasThereBeenALoadedMetaData=!0}),i.ads={settings:n,disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,adType:null,VERSION:"__VERSION__",reset:function(){i.ads.disableNextSnapshotRestore=!1,i.ads._contentEnding=!1,i.ads._contentHasEnded=!1,i.ads.snapshot=null,i.ads.adType=null,i.ads._hasThereBeenALoadedData=!1,i.ads._hasThereBeenALoadedMetaData=!1,i.ads._cancelledPlay=!1,i.ads.nopreroll_=!1,i.ads.nopostroll_=!1},startLinearAdMode:function(){i.ads._state.startLinearAdMode()},endLinearAdMode:function(){i.ads._state.endLinearAdMode()},skipLinearAdMode:function(){i.ads._state.skipLinearAdMode()},stitchedAds:function(t){return void 0!==t&&(this._stitchedAds=!!t),this._stitchedAds},videoElementRecycled:function(){if(i.ads.shouldPlayContentBehindAd(i))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var t=i.tech_.src()!==this.snapshot.src,e=i.currentSrc()!==this.snapshot.currentSrc;return t||e},isLive:function(t){return t.duration()===1/0||"8"===d.browser.IOS_VERSION&&0===t.duration()},shouldPlayContentBehindAd:function(t){return!d.browser.IS_IOS&&!d.browser.IS_ANDROID&&t.duration()===1/0},isInAdMode:function(){return this._state.isAdState()},isContentResuming:function(){return this._state.isContentResuming()},isAdPlaying:function(){return this._state.inAdBreak()},inAdBreak:function(){return this._state.inAdBreak()},removeNativePoster:function(){var t=i.$(".vjs-tech");t&&t.removeAttribute("poster")},debug:function(){if(this.settings.debug){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];1===e.length&&"string"==typeof e[0]?d.log("ADS: "+e[0]):d.log.apply(d,["ADS:"].concat(e))}}},i.ads._state=new V(i),i.ads.stitchedAds(n.stitchedAds),i.ads.cueTextTracks=b,i.ads.adMacroReplacement=function(t,a,e){void 0===a&&(a=!1);var n={};for(var i in void 0!==e&&(n=e),n["{player.id}"]=this.options_["data-player"],n["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",n["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",n["{mediainfo.description}"]=this.mediainfo?this.mediainfo.description:"",n["{mediainfo.tags}"]=this.mediainfo?this.mediainfo.tags:"",n["{mediainfo.reference_id}"]=this.mediainfo?this.mediainfo.reference_id:"",n["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",n["{mediainfo.ad_keys}"]=this.mediainfo?this.mediainfo.ad_keys:"",n["{player.duration}"]=this.duration(),n["{timestamp}"]=(new Date).getTime(),n["{document.referrer}"]=g.referrer,n["{window.location.href}"]=l.location.href,n["{random}"]=Math.floor(1e12*Math.random()),f(this.mediainfo,n,"custom_fields"),f(this.mediainfo,n,"customFields"),n)t=t.split(i).join(p(n[i],a));return t.replace(/{pageVariable\.([^}]+)}/g,function(t,e){for(var n=void 0,i=l,o=e.split("."),r=0;r<o.length;r++)r===o.length-1?n=i[o[r]]:i=i[o[r]];var s=void 0===n?"undefined":m(n);return null===n?"null":void 0===n?(d.log.warn('Page variable "'+e+'" not found'),""):"string"!==s&&"number"!==s&&"boolean"!==s?(d.log.warn('Page variable "'+e+'" is not a supported type'),""):p(String(n),a)})}.bind(i),(e=i).ads.contentSrc=e.currentSrc(),e.ads._seenInitialLoadstart=!1,e.on("loadstart",function(){if(!e.ads.inAdBreak()){var t=e.currentSrc();t!==e.ads.contentSrc&&(e.ads._seenInitialLoadstart&&e.trigger({type:"contentchanged"}),e.trigger({type:"contentupdate",oldValue:e.ads.contentSrc,newValue:t}),e.ads.contentSrc=t),e.ads._seenInitialLoadstart=!0}}),i.on("contentchanged",i.ads.reset),i.ready(function(){i.textTracks().addEventListener("change",r)}),i.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","ads-ad-started","contentchanged","contentresumed","contentended","nopreroll","nopostroll"],function(t){i.ads._state.handleEvent(t.type)}),i.on("dispose",function(){i.textTracks().removeEventListener("change",r)})}var j,x,M,L,D,R,I=function(t){t.ads.debug("Starting ad break"),t.ads._inLinearAdMode=!0,t.trigger("adstart"),t.ads.shouldPlayContentBehindAd(t)||(t.ads.snapshot=function(t){var e;e=d.browser.IS_IOS&&t.ads.isLive(t)&&0<t.seekable().length?t.currentTime()-t.seekable().end(0):t.currentTime();var n=t.$(".vjs-tech"),i=t.textTracks?t.textTracks():[],o=[],r={ended:t.ended(),currentSrc:t.currentSrc(),src:t.tech_.src(),currentTime:e,type:t.currentType()};n&&(r.nativePoster=n.poster,r.style=n.getAttribute("style"));for(var s=0;s<i.length;s++){var a=i[s];o.push({track:a,mode:a.mode}),a.mode="disabled"}return r.suppressedTracks=o,r}(t)),t.ads.shouldPlayContentBehindAd(t)&&(t.ads.preAdVolume_=t.volume(),t.volume(0)),t.addClass("vjs-ad-playing"),t.hasClass("vjs-live")&&t.removeClass("vjs-live"),t.ads.removeNativePoster()},O=function(t){t.ads.debug("Ending ad break"),t.ads.adType=null,t.ads._inLinearAdMode=!1,t.trigger("adend"),t.removeClass("vjs-ad-playing"),t.ads.isLive(t)&&t.addClass("vjs-live"),t.ads.shouldPlayContentBehindAd(t)||function(e,n){if(!0!==e.ads.disableNextSnapshotRestore){var i=e.$(".vjs-tech"),o=20,r=n.suppressedTracks,s=void 0,t=function(){for(var t=0;t<r.length;t++)(s=r[t]).track.mode=s.mode},a=function(){var t=void 0;d.browser.IS_IOS&&e.ads.isLive(e)?n.currentTime<0&&(t=0<e.seekable().length?e.seekable().end(0)+n.currentTime:e.currentTime(),e.currentTime(t)):n.ended?e.currentTime(e.duration()):e.currentTime(n.currentTime),n.ended||e.play(),e.ads.shouldRemoveAutoplay_&&(e.autoplay(!1),e.ads.shouldRemoveAutoplay_=!1)},l=function t(){if(e.off("contentcanplay",t),e.ads.tryToResumeTimeout_&&(e.clearTimeout(e.ads.tryToResumeTimeout_),e.ads.tryToResumeTimeout_=null),1<(i=e.el().querySelector(".vjs-tech")).readyState)return a();if(void 0===i.seekable)return a();if(0<i.seekable.length)return a();if(o--)e.setTimeout(t,50);else try{a()}catch(t){d.log.warn("Failed to resume the content after an advertisement",t)}};n.nativePoster&&(i.poster=n.nativePoster),"style"in n&&i.setAttribute("style",n.style||""),e.ads.videoElementRecycled()?(e.one("contentloadedmetadata",t),d.browser.IS_IOS&&!e.autoplay()&&(e.autoplay(!0),e.ads.shouldRemoveAutoplay_=!0),e.src({src:n.currentSrc,type:n.type}),e.one("contentcanplay",l),e.ads.tryToResumeTimeout_=e.setTimeout(l,2e3)):(t(),e.ended()||e.play())}else e.ads.disableNextSnapshotRestore=!1}(t,t.ads.snapshot),t.ads.shouldPlayContentBehindAd(t)&&t.volume(t.ads.preAdVolume_)},N=(h($,R=C),$.prototype.init=function(t,e){t.addClass("vjs-ad-loading");var n=t.ads.settings.timeout;"number"==typeof t.ads.settings.prerollTimeout&&(n=t.ads.settings.prerollTimeout),this._timeout=t.setTimeout(function(){t.trigger("adtimeout")},n),e?this.handleAdsReady():this.adsReady=!1},$.prototype.onAdsReady=function(t){t.ads.inAdBreak()||t.ads.isContentResuming()?d.log.warn("Unexpected adsready event (Preroll)"):(t.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},$.prototype.handleAdsReady=function(){this.adsReady=!0,this.player.ads.nopreroll_?this.noPreroll():this.readyForPreroll()},$.prototype.afterLoadStart=function(t){var e=this.player;e.ads._hasThereBeenALoadStartDuringPlayerLife?t():(e.ads.debug("Waiting for loadstart..."),e.one("loadstart",function(){e.ads.debug("Received loadstart event"),t()}))},$.prototype.noPreroll=function(){var t=this;this.afterLoadStart(function(){t.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),t.transitionTo(H)})},$.prototype.readyForPreroll=function(){var t=this.player;this.afterLoadStart(function(){t.ads.debug("Triggered readyforpreroll event (Preroll)"),t.trigger("readyforpreroll")})},$.prototype.onPlay=function(t){t.ads.debug("Received play event (Preroll)"),this.inAdBreak()||this.isContentResuming()||S(this.player)},$.prototype.onAdsCanceled=function(t){var e=this;t.ads.debug("adscanceled (Preroll)"),this.afterLoadStart(function(){e.transitionTo(H)})},$.prototype.onAdsError=function(t){var e=this;d.log("adserror (Preroll)"),this.inAdBreak()&&t.ads.endLinearAdMode(),this.afterLoadStart(function(){e.transitionTo(H)})},$.prototype.startLinearAdMode=function(){var t=this.player;!this.adsReady||t.ads.inAdBreak()||this.isContentResuming()?d.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(t.clearTimeout(this._timeout),t.ads.adType="preroll",I(t))},$.prototype.onAdStarted=function(t){t.removeClass("vjs-ad-loading")},$.prototype.endLinearAdMode=function(){var t=this.player;this.inAdBreak()&&(t.removeClass("vjs-ad-loading"),O(t),this.contentResuming=!0)},$.prototype.skipLinearAdMode=function(){var t=this,e=this.player;e.ads.inAdBreak()||this.isContentResuming()?d.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){e.trigger("adskip"),e.ads.debug("skipLinearAdMode (Preroll)"),t.transitionTo(H)})},$.prototype.onAdTimeout=function(t){var e=this;this.afterLoadStart(function(){t.ads.debug("adtimeout (Preroll)"),e.transitionTo(H)})},$.prototype.onNoPreroll=function(t){t.ads.inAdBreak()||this.isContentResuming()?d.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},$.prototype.cleanup=function(){var t=this.player;t.ads._hasThereBeenALoadStartDuringPlayerLife||d.log.warn("Leaving Preroll state before loadstart event can cause issues."),t.removeClass("vjs-ad-loading"),t.clearTimeout(this._timeout)},$),B=(h(Y,D=C),Y.prototype.init=function(t){t.ads.adType="midroll",I(t)},Y.prototype.endLinearAdMode=function(){var t=this.player;this.inAdBreak()&&(this.contentResuming=!0,O(t))},Y.prototype.onAdsError=function(t){this.inAdBreak()&&t.ads.endLinearAdMode()},Y),F=(h(G,L=C),G.prototype.init=function(t){var e=this;if(t.ads._contentEnding=!0,t.ads.nopostroll_)t.setTimeout(function(){t.ads.debug("Triggered ended event (no postroll)"),e.contentResuming=!0,t.trigger("ended")},1);else{t.addClass("vjs-ad-loading");var n=t.ads.settings.timeout;"number"==typeof t.ads.settings.postrollTimeout&&(n=t.ads.settings.postrollTimeout),this._postrollTimeout=t.setTimeout(function(){t.trigger("adtimeout")},n)}},G.prototype.startLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?d.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(t.ads.adType="postroll",t.clearTimeout(this._postrollTimeout),I(t))},G.prototype.onAdStarted=function(t){t.removeClass("vjs-ad-loading")},G.prototype.endLinearAdMode=function(){var t=this.player;this.inAdBreak()&&(t.removeClass("vjs-ad-loading"),O(t),this.contentResuming=!0,t.ads.debug("Triggered ended event (endLinearAdMode)"),t.trigger("ended"))},G.prototype.skipLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?d.log.warn("Unexpected skipLinearAdMode invocation"):(t.ads.debug("Postroll abort (skipLinearAdMode)"),t.trigger("adskip"),this.abort())},G.prototype.onAdTimeout=function(t){t.ads.debug("Postroll abort (adtimeout)"),this.abort()},G.prototype.onAdsError=function(t){t.ads.debug("Postroll abort (adserror)"),t.ads.inAdBreak()&&t.ads.endLinearAdMode(),this.abort()},G.prototype.onEnded=function(){this.isContentResuming()?this.transitionTo(W):d.log.warn("Unexpected ended event during postroll")},G.prototype.onContentChanged=function(t){this.isContentResuming()?this.transitionTo(V):this.inAdBreak()||this.transitionTo(N)},G.prototype.onNoPostroll=function(t){this.isContentResuming()||this.inAdBreak()?d.log.warn("Unexpected nopostroll event (Postroll)"):this.transitionTo(W)},G.prototype.abort=function(){var t=this.player;this.contentResuming=!0,t.removeClass("vjs-ad-loading"),t.ads.debug("Triggered ended event (postroll abort)"),t.trigger("ended")},G.prototype.cleanup=function(){var t=this.player;t.clearTimeout(this._postrollTimeout),t.ads._contentEnding=!1},G),V=(h(K,M=k),K.prototype.init=function(t){this.adsReady=!1},K.prototype.onAdsReady=function(t){t.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},K.prototype.onPlay=function(t){t.ads.debug("Received play event (BeforePreroll)"),S(t),this.transitionTo(N,this.adsReady)},K.prototype.onAdsCanceled=function(t){t.ads.debug("adscanceled (BeforePreroll)"),this.transitionTo(H)},K.prototype.onAdsError=function(){this.transitionTo(H)},K.prototype.onNoPreroll=function(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.transitionTo(H)},K.prototype.skipLinearAdMode=function(){this.player.trigger("adskip"),this.transitionTo(H)},K.prototype.onContentChanged=function(){},K),H=(h(X,x=k),X.prototype.init=function(t){t.paused()&&(t.ads._cancelledPlay||t.ads._pausedOnContentupdate)&&t.play()},X.prototype.onAdsReady=function(t){t.ads.debug("Received adsready event (ContentPlayback)"),t.ads.nopreroll_||(t.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),t.trigger("readyforpreroll"))},X.prototype.onContentEnded=function(t){t.ads.debug("Received contentended event"),this.transitionTo(F)},X.prototype.startLinearAdMode=function(){this.transitionTo(B)},X),W=(h(q,j=k),q.prototype.init=function(t){t.ads._contentHasEnded=!0},q.prototype.startLinearAdMode=function(){d.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},q),U=d.getTech("Html5").Events,z={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1};function q(){return _(this,q),u(this,j.apply(this,arguments))}function X(){return _(this,X),u(this,x.apply(this,arguments))}function K(){return _(this,K),u(this,M.apply(this,arguments))}function G(){return _(this,G),u(this,L.apply(this,arguments))}function Y(){return _(this,Y),u(this,D.apply(this,arguments))}function $(){return _(this,$),u(this,R.apply(this,arguments))}return(d.registerPlugin||d.plugin)("ads",P),P}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):e(t.videojs)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;function o(t,e,n){this.vjsPlayer=t,this.controller=n,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),this.vjsPlayer.ads(e)}o.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},o.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},o.prototype.checkForSeeking=function(){var t=1e3*(this.vjsPlayer.currentTime()-this.contentPlayheadTracker.previousTime);Math.abs(t)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},o.prototype.checkForResize=function(){var t=this.getPlayerWidth(),e=this.getPlayerHeight();t==this.vjsPlayerDimensions.width&&e==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=t,this.vjsPlayerDimensions.height=e,this.controller.onPlayerResize(t,e))},o.prototype.localContentEndedListener=function(){for(var t in this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete()),this.contentEndedListeners)"function"==typeof this.contentEndedListeners[t]&&this.contentEndedListeners[t]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},o.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},o.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var t=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var e in t)t[e]&&clearInterval(t[e])},o.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},o.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},o.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},o.prototype.onVolumeChange=function(){var t=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(t)},o.prototype.injectAdContainerDiv=function(t){this.vjsControls.el().parentNode.appendChild(t)},o.prototype.getContentPlayer=function(){return this.h5Player},o.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},o.prototype.setVolume=function(t){this.vjsPlayer.volume(t),0==t?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},o.prototype.unmute=function(){this.vjsPlayer.muted(!1)},o.prototype.mute=function(){this.vjsPlayer.muted(!0)},o.prototype.play=function(){this.vjsPlayer.play()},o.prototype.getPlayerWidth=function(){var t=(getComputedStyle(this.vjsPlayer.el())||{}).width;return t&&0!==parseInt(t,10)||(t=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseInt(t,10)||this.vjsPlayer.width()},o.prototype.getPlayerHeight=function(){var t=(getComputedStyle(this.vjsPlayer.el())||{}).height;return t&&0!==parseInt(t,10)||(t=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseInt(t,10)||this.vjsPlayer.height()},o.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},o.prototype.getPlayerId=function(){return this.vjsPlayer.id()},o.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},o.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},o.prototype.onAdError=function(t){this.vjsControls.show();var e=void 0!==t.getError?t.getError():t.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:e,AdErrorEvent:t}})},o.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},o.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},o.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},o.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.h5Player.src!=this.contentSource&&this.vjsPlayer.src(this.contentSource),this.controller.onContentAndAdsCompleted())},o.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},o.prototype.changeSource=function(t,e){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),t&&this.vjsPlayer.src(t),e?this.vjsPlayer.one("loadedmetadata",this.playContentFromZero.bind(this)):this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},o.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},o.prototype.playContentFromZero=function(){this.vjsPlayer.currentTime(0),this.vjsPlayer.play()},o.prototype.triggerPlayerEvent=function(t,e){this.vjsPlayer.trigger(t,e)},o.prototype.addContentEndedListener=function(t){this.contentEndedListeners.push(t)},o.prototype.reset=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};function r(t){this.controller=t,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",!(this.showCountdown=!0)===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.createAdContainer()}r.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},r.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none",this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},r.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},r.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},r.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},r.prototype.onAdsPaused=function(){this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},r.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},r.prototype.onAdsPlaying=function(){this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},r.prototype.updateAdUi=function(t,e,n,i,o){var r=Math.floor(e/60),s=Math.floor(e%60);s.toString().length<2&&(s="0"+s);var a=": ";1<o&&(a=" ("+i+" "+this.controller.getSettings().adLabelNofN+" "+o+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+a+r+":"+s;var l=100*(t/n);this.progressDiv.style.width=l+"%"},r.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},r.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},r.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},r.prototype.onMouseMove=function(t){this.changeVolume(t)},r.prototype.onMouseUp=function(t){this.changeVolume(t),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},r.prototype.changeVolume=function(t){var e=(t.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;e*=100,e=Math.min(Math.max(e,0),100),this.sliderLevelDiv.style.width=e+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(e/100)},r.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},r.prototype.onAdError=function(){this.adContainerDiv.style.display="none"},r.prototype.onAdBreakStart=function(t){this.adContainerDiv.style.display="block","application/javascript"!==t.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},r.prototype.onAdBreakEnd=function(){var t=this.controller.getCurrentAd();null!=t&&!t.isLinear()||(this.adContainerDiv.style.display="none"),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},r.prototype.onAllAdsCompleted=function(){this.adContainerDiv.style.display="none"},r.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container")},r.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container")},r.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},r.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},r.prototype.onPlayerVolumeChanged=function(t){0==t?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*t+"%")},r.prototype.showAdControls=function(){this.addClass(this.controlsDiv,"ima-controls-div-showing"),this.playPauseDiv.style.display="block",this.muteDiv.style.display="block",this.fullscreenDiv.style.display="block",this.controller.getIsIos()||(this.sliderDiv.style.display="block")},r.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing"),this.playPauseDiv.style.display="none",this.muteDiv.style.display="none",this.sliderDiv.style.display="none",this.fullscreenDiv.style.display="none"},r.prototype.assignControlAttributes=function(t,e){t.id=this.controlPrefix+e,t.className=this.controlPrefix+e+" "+e},r.prototype.getClassRegexp=function(t){return new RegExp("(^|[^A-Za-z-])"+t+"((?![A-Za-z-])|$)","gi")},r.prototype.elementHasClass=function(t,e){return this.getClassRegexp(e).test(t.className)},r.prototype.addClass=function(t,e){t.className=t.className.trim()+" "+e},r.prototype.removeClass=function(t,e){var n=this.getClassRegexp(e);t.className=t.className.trim().replace(n,"")},r.prototype.getAdContainerDiv=function(){return this.adContainerDiv},r.prototype.setShowCountdown=function(t){this.showCountdown=t,this.countdownDiv.style.display=this.showCountdown?"block":"none"};function s(t){this.controller=t,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adTagUrl=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.adsManagerDimensions={width:0,height:0},!(this.autoPlayAdBreaks=!0)===this.controller.getSettings().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus)}var e="1.5.1";s.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(e),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)},s.prototype.requestAds=function(){var t=new google.ima.AdsRequest;this.controller.getSettings().adTagUrl?t.adTagUrl=this.controller.getSettings().adTagUrl:t.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(t.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(t.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),t.linearAdSlotWidth=this.controller.getPlayerWidth(),t.linearAdSlotHeight=this.controller.getPlayerHeight(),t.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),t.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),t.setAdWillAutoPlay(this.controller.adsWillAutoplay()),t.setAdWillPlayMuted(this.controller.adsWillPlayMuted()),this.adsLoader.requestAds(t),this.controller.triggerPlayerEvent("ads-request",t)},s.prototype.onAdsManagerLoaded=function(t){this.createAdsRenderingSettings(),this.adsManager=t.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.controller.getIsMobile()&&(this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this))),this.autoPlayAdBreaks||this.initAdsManager(),this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},s.prototype.onAdsLoaderError=function(t){window.console.warn("AdsLoader error: "+t.getError()),this.controller.onErrorLoadingAds(t),this.adsManager&&this.adsManager.destroy()},s.prototype.initAdsManager=function(){try{var t=this.controller.getPlayerWidth(),e=this.controller.getPlayerHeight();this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=e,this.adsManager.init(t,e,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(t){this.onAdError(t)}},s.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var t in this.controller.getSettings().adsRenderingSettings)""!==t&&(this.adsRenderingSettings[t]=this.controller.getSettings().adsRenderingSettings[t])},s.prototype.onAdError=function(t){var e=void 0!==t.getError?t.getError():t.stack;window.console.warn("Ad error: "+e),this.adsManager.destroy(),this.controller.onAdError(t),this.adsActive=!1,this.adPlaying=!1},s.prototype.onAdBreakReady=function(t){this.adBreakReadyListener(t)},s.prototype.onContentPauseRequested=function(t){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(t)},s.prototype.onContentResumeRequested=function(t){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},s.prototype.onAllAdsCompleted=function(t){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},s.prototype.onAdLoaded=function(t){t.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},s.prototype.onAdStarted=function(t){this.currentAd=t.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},s.prototype.onAdPaused=function(){this.controller.onAdsPaused()},s.prototype.onAdResumed=function(t){this.controller.onAdsResumed()},s.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},s.prototype.onAdPlayheadTrackerInterval=function(){var t=this.adsManager.getRemainingTime(),e=this.currentAd.getDuration(),n=e-t;n=0<n?n:0;var i=0,o=void 0;this.currentAd.getAdPodInfo()&&(o=this.currentAd.getAdPodInfo().getAdPosition(),i=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(n,t,e,o,i)},s.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},s.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},s.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(t){this.onAdError(t)}}},s.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&this.requestAds()},s.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},s.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},s.prototype.onPlayerVolumeChanged=function(t){this.adsManager&&this.adsManager.setVolume(t),this.adMuted=0==t},s.prototype.onPlayerResize=function(t,e){this.adsManager&&(this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=e,this.adsManager.resize(t,e,google.ima.ViewMode.NORMAL))},s.prototype.getCurrentAd=function(){return this.currentAd},s.prototype.setAdBreakReadyListener=function(t){this.adBreakReadyListener=t},s.prototype.isAdPlaying=function(){return this.adPlaying},s.prototype.isAdMuted=function(){return this.adMuted},s.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},s.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},s.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},s.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},s.prototype.setVolume=function(t){this.adsManager.setVolume(t),this.adMuted=0==t},s.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize())},s.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},s.prototype.addEventListener=function(t,e){this.adsManager&&this.adsManager.addEventListener(t,e)},s.prototype.getAdsManager=function(){return this.adsManager};function n(t,e){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(e);var n={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},i=this.extend({},n,e.contribAdsSettings||{});this.playerWrapper=new o(t,i,this),this.adUi=new r(this),this.sdkImpl=new s(this)}n.IMA_DEFAULTS={debug:!(s.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1}),timeout:5e3,prerollTimeout:1e3,adLabel:"Advertisement",adLabelNofN:"of",showControlsForJSAds:!0},n.prototype.initWithSettings=function(t){this.settings=this.extend({},n.IMA_DEFAULTS,t||{}),this.warnAboutDeprecatedSettings(),!(this.showCountdown=!0)===this.settings.showCountdown&&(this.showCountdown=!1)},n.prototype.warnAboutDeprecatedSettings=function(){var e=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach(function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")})},n.prototype.getSettings=function(){return this.settings},n.prototype.getIsMobile=function(){return this.isMobile},n.prototype.getIsIos=function(){return this.isIos},n.prototype.injectAdContainerDiv=function(t){this.playerWrapper.injectAdContainerDiv(t)},n.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},n.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},n.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},n.prototype.requestAds=function(){this.sdkImpl.requestAds()},n.prototype.setSetting=function(t,e){this.settings[t]=e},n.prototype.onErrorLoadingAds=function(t){this.adUi.onAdError(),this.playerWrapper.onAdError(t)},n.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},n.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},n.prototype.setVolume=function(t){this.playerWrapper.setVolume(t),this.sdkImpl.setVolume(t)},n.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},n.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},n.prototype.onAdError=function(t){this.adUi.onAdError(),this.playerWrapper.onAdError(t)},n.prototype.onAdBreakStart=function(t){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(t)},n.prototype.showAdContainer=function(){this.adUi.showAdContainer()},n.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},n.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},n.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},n.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},n.prototype.onAdPlayheadUpdated=function(t,e,n,i,o){this.adUi.updateAdUi(t,e,n,i,o)},n.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},n.prototype.playContent=function(){this.playerWrapper.play()},n.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},n.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},n.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},n.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},n.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},n.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},n.prototype.onPlayerResize=function(t,e){this.sdkImpl.onPlayerResize(t,e)},n.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},n.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},n.prototype.onContentAndAdsCompleted=function(){for(var t in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[t]&&this.contentAndAdsEndedListeners[t]()},n.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},n.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},n.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},n.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},n.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},n.prototype.onPlayerVolumeChanged=function(t){this.adUi.onPlayerVolumeChanged(t),this.sdkImpl.onPlayerVolumeChanged(t)},n.prototype.setContentWithAdTag=function(t,e,n){this.reset(),this.settings.adTagUrl=e||this.settings.adTagUrl,this.playerWrapper.changeSource(t,n)},n.prototype.setContentWithAdsResponse=function(t,e,n){this.reset(),this.settings.adsResponse=e||this.settings.adsResponse,this.playerWrapper.changeSource(t,n)},n.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset()},n.prototype.addContentEndedListener=function(t){this.playerWrapper.addContentEndedListener(t)},n.prototype.addContentAndAdsEndedListener=function(t){this.contentAndAdsEndedListeners.push(t)},n.prototype.setAdBreakReadyListener=function(t){this.sdkImpl.setAdBreakReadyListener(t)},n.prototype.setShowCountdown=function(t){this.adUi.setShowCountdown(t),this.showCountdown=t,this.countdownDiv.style.display=this.showCountdown?"block":"none"},n.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},n.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},n.prototype.addEventListener=function(t,e){this.sdkImpl.addEventListener(t,e)},n.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},n.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},n.prototype.changeAdTag=function(t){this.reset(),this.settings.adTagUrl=t},n.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},n.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},n.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},n.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},n.prototype.triggerPlayerEvent=function(t,e){this.playerWrapper.triggerPlayerEvent(t,e)},n.prototype.extend=function(t){for(var e=void 0,n=void 0,i=void 0,o=arguments.length,r=Array(1<o?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];for(n=0;n<r.length;n++)for(i in e=r[n])e.hasOwnProperty(i)&&(t[i]=e[i]);return t};function i(t,e){this.controller=new n(t,e),this.addContentAndAdsEndedListener=function(t){this.controller.addContentAndAdsEndedListener(t)}.bind(this),this.addContentEndedListener=function(t){this.controller.addContentEndedListener(t)}.bind(this),this.addEventListener=function(t,e){this.controller.addEventListener(t,e)}.bind(this),this.changeAdTag=function(t){this.controller.changeAdTag(t)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(t){this.controller.setAdBreakReadyListener(t)}.bind(this),this.setContentWithAdTag=function(t,e,n){this.controller.setContentWithAdTag(t,e,n)}.bind(this),this.setContentWithAdsResponse=function(t,e,n){this.controller.setContentWithAdsResponse(t,e,n)}.bind(this),this.setShowCountdown=function(t){this.controller.setShowCountdown(t)}.bind(this)}(t.registerPlugin||t.plugin)("ima",function(t){this.ima=new i(this,t)})});